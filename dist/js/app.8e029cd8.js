(function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],d=0,u=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&u.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s={app:0},o=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"63fe3b2e"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"879187f3"}[e]+".css",s=c.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===r||d===s))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){l=u[i],d=l.getAttribute("data-href");if(d===r||d===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}s[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0693":function(e,t,n){e.exports=n.p+"img/lessons.c92f8a2d.svg"},"0ca1":function(e,t,n){e.exports=n.p+"img/1.30aba34d.png"},"0d28":function(e,t,n){"use strict";n("82b8")},"194f":function(e,t,n){},"200f":function(e,t,n){"use strict";n("194f")},2786:function(e,t,n){},"309a":function(e,t,n){e.exports=n.p+"img/logout.eb2bb144.svg"},"32d8":function(e,t,n){"use strict";n("762a")},"33bf":function(e,t,n){e.exports=n.p+"img/pencil.927ca007.svg"},3592:function(e,t,n){e.exports=n.p+"img/cir.3e3f4e47.svg"},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="4678"},"4bf1":function(e,t,n){},"4cb1":function(e,t,n){"use strict";n("8a9f")},"52c8":function(e,t,n){"use strict";n("ff1e")},"564d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.keyComponent},[e.showAllPage?r("div",[r("v-app",{attrs:{id:"inspire"}},[this.$store.state.user?r("v-navigation-drawer",{staticClass:"pt-4 side-menu",attrs:{"mini-variant":"",app:"",right:""}},[r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9 ",class:e.homeRoute?"avatar-route":"",staticStyle:{"margin-top":"10px"},attrs:{size:36},on:{click:function(t){return e.gotoHome()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("86e6")}})])]}}],null,!1,2414651217)},[r("span",[e._v("الرئيسية")])]),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.aboutRoute?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoAbout()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("9254")}})])]}}],null,!1,2738358975)},[r("span",[e._v("انشاء وثيقة")])]):e._e(),-1==e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.aboutRoute?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoAbout()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("9254")}})])]}}],null,!1,2738358975)},[r("span",[e._v("توليد تأييد")])]):e._e(),-1==e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.grad?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoGra()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("3592")}})])]}}],null,!1,2079017935)},[r("span",[e._v("توليد وثيقة")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.addMarks?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoAddMaster()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("33bf")}})])]}}],null,!1,3607461268)},[r("span",[e._v("درجات الطلبة")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.lessons?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoLessons()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("0693")}})])]}}],null,!1,1783128264)},[r("span",[e._v("المواد الدراسية")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.summer?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoSummer()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("3592")}})])]}}],null,!1,2968837643)},[r("span",[e._v("التدريب الصيفي")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.uploadedDocument?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.goToUploadedDocument()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("d7d7")}})])]}}],null,!1,324807972)},[r("span",[e._v("الوثائق المرسلة")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.compare?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoCompare()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("bae8")}})])]}}],null,!1,1286819552)},[r("span",[e._v("مقارنة المراحل")])]):e._e(),-1!=e.user.perv?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",class:e.average?"avatar-route":"",attrs:{size:36},on:{click:function(t){return e.gotoAverage()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("8d8d")}})])]}}],null,!1,4251154026)},[r("span",[e._v("المعدلات")])]):e._e(),r("v-divider"),r("v-divider"),r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-avatar",e._g(e._b({staticClass:"d-block text-center mx-auto mb-9",staticStyle:{"margin-top":"10px"},attrs:{size:36},on:{click:function(t){return e.logOut()}}},"v-avatar",s,!1),a),[r("img",{attrs:{src:n("309a")}})])]}}],null,!1,124734540)},[r("span",[e._v("تسجيل خروج")])])],1):e._e(),r("v-main",[r("router-view")],1)],1)],1):r("div",[r("v-app",{staticStyle:{"text-align":"center","padding-top":"50px"}},[r("h2",[e._v("تم ايقاف عمل البرنامج")]),r("h2",[e._v("الرجاء التأكد من تحديث البرنامج او التأكد من اتصال الانترنت")]),r("h3",[e._v(" الاصدار الحالي : "+e._s(e.VersionOfApp.appVersion)+" - الاصدار المنصب على الحاسبة "+e._s(e.currentVersion)+" ")])])],1)])},s=[],o=n("bdb9"),i=o.remote,c=i.require("electron"),l=c.BrowserWindow,d={name:"App",data:function(){return{homeRoute:!1,average:!1,aboutRoute:!1,addMarks:!1,keyComponent:1,summer:!1,compare:!1,lessons:!1,uploadedDocument:!1,grad:!1,user:{},userLogin:null,showAllPage:!1,currentVersion:"1.3.15",VersionOfApp:"",fromHome:!0}},created:function(){var e=this;this.$http.get("http://10.0.0.254:8000/api/sections").then((function(e){console.log(e.data)})),this.$store.dispatch("fromHomeUpdate",this.fromHome).then((function(){})),this.$store.dispatch("getUserDate").then((function(){e.showAllPage=!1,null!=e.$store.state.user?(e.user=e.$store.state.user,e.$router.push("/").catch((function(e){})),e.$http.get("".concat(e.$store.state.apiUrl,"/appName/document")).then((function(t){console.log(t.data),t.data.appVersion==e.currentVersion?e.showAllPage=!0:(e.VersionOfApp=t.data,e.showAllPage=!1)}))):(e.showAllPage=!0,e.$router.push("/login").catch((function(e){})))})),this.homeRoute=!0,this.average=!1,this.aboutRoute=!1,this.addMarks=!1,this.lessons=!1,this.grad=!1,this.compare=!1;var t={phaseOne:"٢٠٢٠/١٠/٢٢",phaseOneEn:"2020/10/22",phaseTwo:"٢٠٢٠/١١/٢٦",phaseTwoEn:"2020/11/26"};localStorage.setItem("phaseDate",JSON.stringify(t))},methods:{minWindows:function(){var e=l.getFocusedWindow();e.minimize()},maxWindows:function(){document;var e=l.getFocusedWindow();e.maximize()},closeWindows:function(){var e=l.getFocusedWindow();e.close()},checkForLocation:function(){var e=this;this.fromHome=!this.fromHome,this.$store.dispatch("fromHomeUpdate",this.fromHome).then((function(){e.keyComponent+=1,console.log(e.$store.state.apiUrl)}))},goToUploadedDocument:function(){this.homeRoute=!1,this.aboutRoute=!1,this.addMarks=!1,this.lessons=!1,this.uploadedDocument=!0,this.average=!1,this.grad=!1,this.compare=!1,this.summer=!1,this.$router.push("/uploaded").catch((function(e){}))},gotoHome:function(){this.homeRoute=!0,this.aboutRoute=!1,this.addMarks=!1,this.lessons=!1,this.uploadedDocument=!1,this.average=!1,this.grad=!1,this.compare=!1,this.summer=!1,this.$router.push("/").catch((function(e){}))},gotoSummer:function(){this.homeRoute=!1,this.aboutRoute=!1,this.uploadedDocument=!1,this.addMarks=!1,this.average=!1,this.lessons=!1,this.grad=!1,this.compare=!1,this.summer=!0,this.$router.push("/summer").catch((function(e){}))},gotoAverage:function(){var e=this;this.homeRoute=!1,this.aboutRoute=!1,this.uploadedDocument=!1,this.addMarks=!1,this.lessons=!1,this.average=!0,this.grad=!1,this.compare=!1,this.summer=!1,30==e.$store.state.user.perv?this.$router.push("/average-dental").catch((function(e){})):this.$router.push("/average").catch((function(e){}))},gotoAbout:function(){var e=this;-1!=e.$store.state.user.perv?(this.homeRoute=!1,this.aboutRoute=!0,this.average=!1,this.addMarks=!1,this.lessons=!1,this.uploadedDocument=!1,this.grad=!1,this.compare=!1,this.summer=!1,30==e.$store.state.user.perv?this.$router.push("/student-dent").catch((function(e){})):this.$router.push("/student-document").catch((function(e){}))):(this.homeRoute=!1,this.aboutRoute=!0,this.uploadedDocument=!1,this.average=!1,this.grad=!1,this.addMarks=!1,this.lessons=!1,this.summer=!1,this.compare=!1,this.$router.push("/register-document").catch((function(e){})))},gotoGra:function(){var e=this;-1==e.$store.state.user.perv&&(this.homeRoute=!1,this.aboutRoute=!1,this.average=!1,this.addMarks=!1,this.lessons=!1,this.uploadedDocument=!1,this.grad=!0,this.summer=!1,this.compare=!1,this.$router.push("/graduation").catch((function(e){})))},gotoAddMaster:function(){var e=this;-1!=e.$store.state.user.perv&&(this.homeRoute=!1,this.aboutRoute=!1,this.average=!1,this.grad=!1,this.uploadedDocument=!1,this.lessons=!1,this.addMarks=!0,this.summer=!1,this.compare=!1,this.$router.push("/add-master").catch((function(e){})))},gotoLessons:function(){var e=this;-1!=e.$store.state.user.perv&&(this.homeRoute=!1,this.aboutRoute=!1,this.average=!1,this.grad=!1,this.uploadedDocument=!1,this.lessons=!0,this.addMarks=!1,this.summer=!1,this.compare=!1,this.$router.push("/lessons").catch((function(e){})))},gotoCompare:function(){var e=this;-1!=e.$store.state.user.perv&&(this.homeRoute=!1,this.aboutRoute=!1,this.addMarks=!1,this.uploadedDocument=!1,this.average=!1,this.grad=!1,this.compare=!0,this.summer=!1,30==e.$store.state.user.perv?this.$router.push("/compare-dental").catch((function(e){})):this.$router.push("/compare").catch((function(e){})))},logOut:function(){this.$store.dispatch("logout")}}},u=d,f=(n("5c0b"),n("2877")),p=n("6544"),v=n.n(p),h=n("7496"),g=n("8212"),m=n("ce7e"),S=n("f6c4"),b=n("f774"),y=n("3a2f"),_=Object(f["a"])(u,a,s,!1,null,null,null),k=_.exports;v()(_,{VApp:h["a"],VAvatar:g["a"],VDivider:m["a"],VMain:S["a"],VNavigationDrawer:b["a"],VTooltip:y["a"]});n("d3b7"),n("3ca3"),n("ddb0");var x=n("8c4f"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("v-container",{attrs:{fluid:!1}},[r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center"}},[r("img",{attrs:{src:n("cf05"),width:"600px"}})])],1),-1!=e.$store.state.user.perv?r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"2"}},[r("span",[e._v("اختيار الطلبة")]),r("v-autocomplete",{attrs:{items:e.searchTerm,"item-text":"name","item-value":"term",color:"blue",outlined:"",dense:"",label:"الطلبة"},on:{change:e.changeSearchTerm},model:{value:e.chosenSearch,callback:function(t){e.chosenSearch=t},expression:"chosenSearch"}})],1)],1):e._e(),e.showRegister?e._e():r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center",width:"300px"}},[r("canvas",{attrs:{id:"bar-chart"}})])],1),e.showRegister?r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center",width:"300px"}},[r("h1",[e._v("لوحة التحكم لقسم التسجيل")])])],1):e._e()],1)],1)},T=[],I=(n("99af"),n("4de4"),n("30ef")),D={name:"Home",data:function(){return{students:[],showRegister:!1,chosenSearch:"",searchTerm:[{levelId:1,name:"المستمرين",term:"status=1"},{levelId:2,name:"خريجوا ٢٠١٩ - ٢٠٢٠",term:"grdat=2020-2019"}]}},created:function(){var e=this,t=this.$store.state.user;console.log(t),-1!=t.perv?30==t.perv?(this.$http.get("".concat(this.$store.state.oldUrl,"/levels?sectionId=").concat(this.$store.state.user.perv,"&level=5&year=").concat(this.$store.state.user.currentYear)).then((function(t){console.log(t.data),0==t.data.length?e.$store.state.levelType=1:e.$store.state.levelType=1*t.data[0].type})).catch((function(e){console.log(e)})),this.$http.get("".concat(this.$store.state.oldUrl,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=5&status=1&page=1&limit=1000")).then((function(t){e.students=t.data,console.log(e.students);var n=function(){var e=t.data.filter((function(e){return"انثى"==e.sex}));return e.length}(),r=function(){var e=t.data.filter((function(e){return"ذكر"==e.sex}));return e.length}(),a=function(){var e=t.data.filter((function(e){return"A"==e.class}));return e.length}(),s=function(){var e=t.data.filter((function(e){return"B"==e.class}));return e.length}(),o=function(){var e=t.data.filter((function(e){return"صباحي"==e.type}));return e.length}(),i=function(){var e=t.data.filter((function(e){return"مسائي"==e.type}));return e.length}();e.barChart(document.getElementById("bar-chart"),["اناث","ذكور","مجموع الطلبة","شعبة A","شعبة B","صباحي","مسائي"],[n,r,t.data.length,a,s,o,i])}))):(this.$http.get("".concat(this.$store.state.oldUrl,"/levels?sectionId=").concat(this.$store.state.user.perv,"&level=4&year=").concat(this.$store.state.user.currentYear)).then((function(t){console.log(t.data),0==t.data.length?e.$store.state.levelType=1:e.$store.state.levelType=1*t.data[0].type})).catch((function(e){console.log(e)})),this.$http.get("".concat(this.$store.state.oldUrl,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4&status=1&page=1&limit=1000")).then((function(t){e.students=t.data;var n=function(){var e=t.data.filter((function(e){return"انثى"==e.sex}));return e.length}(),r=function(){var e=t.data.filter((function(e){return"ذكر"==e.sex}));return e.length}(),a=function(){var e=t.data.filter((function(e){return"A"==e.class}));return e.length}(),s=function(){var e=t.data.filter((function(e){return"B"==e.class}));return e.length}(),o=function(){var e=t.data.filter((function(e){return"صباحي"==e.type}));return e.length}(),i=function(){var e=t.data.filter((function(e){return"مسائي"==e.type}));return e.length}();e.barChart(document.getElementById("bar-chart"),["اناث","ذكور","مجموع الطلبة","شعبة A","شعبة B","صباحي","مسائي"],[n,r,t.data.length,a,s,o,i])}))):this.showRegister=!0},methods:{changeSearchTerm:function(){var e=this;this.$store.dispatch("setSearchTermData",this.chosenSearch).then((function(){console.log(e.$store.state.searchTerm)}))},barChart:function(e,t,n){e.style.width=300,new I(e,{type:"bar",data:{labels:t,datasets:[{label:"طالب",backgroundColor:["#449DD1","#396581","#96BC0C","#0F3747","#B8D63A","#22C6FF","#96BC09","#c45850"],data:n}]},options:{legend:{display:!1},title:{display:!0,text:"احصائيات الطلبة"}}})}}},N=D,L=(n("32d8"),n("c6a6")),Y=n("62ad"),F=n("a523"),A=n("0fd9"),C=Object(f["a"])(N,w,T,!1,null,"76efeed2",null),$=C.exports;v()(C,{VAutocomplete:L["a"],VCol:Y["a"],VContainer:F["a"],VRow:A["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.keyComponent},[n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[n("v-card",[n("v-card-title",{staticClass:"headline",staticStyle:{"text-align":"center",padding:"0","margin-bottom":"10px",background:"#f57c7c"}},[n("p",{staticStyle:{"text-align":"center",margin:"10px auto",color:"#fff"}},[e._v(" تنبيه ")])]),n("v-card-text",[n("p",{staticStyle:{"text-align":"center"}},[e._v(" عند الموافقة على اعتماد الشيت فأنه لايمكن حذفه او التعديل عليه ، هل انت متاكد من الموافقة ؟ ")])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog2=!1}}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog2=!1}}},[e._v(" الغاء ")])],1)],1)],1),n("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v("الطلبة الراسبين")]),n("v-divider"),n("v-card-text",{staticStyle:{height:"300px"}},[n("h4",[e._v(" ملاحظة : يوجد عدد من الطلبة الراسبين في الشيت المعتمد يرجى التأكد من حالة نجاح بعضهم بسبب نظام العبور في السنة اللاحقة مما يتطلب تعديل درجاتهم واعادة احتساب معدلاتهم التراكمية قبل اعتماد الشيت . ")]),n("v-divider"),n("p",[e._v("مجموع الطلبة الراسبين : "+e._s(e.failStudents.length)+" طالب")]),n("ul",e._l(e.failStudents,(function(t,r){return n("li",{key:r,staticStyle:{"list-style":"none"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"1"}},[e._v(" "+e._s(r+1)+" -")]),n("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(t.studentName)+" ")]),n("v-col",{staticStyle:{"font-weight":"bold",color:"red"},attrs:{cols:"4"}},[e._v(" "+e._s(t.fail)+" ")])],1)],1)})),0)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.handleUpload(e.sheet)}}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" الغاء ")])],1)],1)],1),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),e._m(0),n("div",{staticClass:"sheet-wrapper"},[n("v-stepper",{attrs:{vertical:""},on:{change:e.stepperChange},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{color:"accent",complete:e.e1>1,step:"1"}},[e._v(" ادخال معلومات الشيت ")])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-select",{attrs:{items:e.level,"item-text":"name","item-value":"levelId",label:"المرحلة",outlined:"",dense:""},model:{value:e.masterLevel,callback:function(t){e.masterLevel=t},expression:"masterLevel"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-select",{attrs:{items:e.year,label:"السنة",dense:"",outlined:""},model:{value:e.masterYear,callback:function(t){e.masterYear=t},expression:"masterYear"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.course,"item-text":"typeName","item-value":"idType",label:"نظام الدراسة",dense:"",outlined:""},model:{value:e.masterTypeId,callback:function(t){e.masterTypeId=t},expression:"masterTypeId"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.items,dense:"",label:"نوع الدراسة",outlined:""},model:{value:e.studyType,callback:function(t){e.studyType=t},expression:"studyType"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{value:this.$store.state.user.sectionName,label:"القسم",dense:"",outlined:"",readonly:""}})],1)],1),n("v-btn",{attrs:{color:"accent",loading:e.storeLoading},on:{click:e.addMaster}},[e._v(" حفظ ")])],1)],1)],1)],1),e._m(1),e._l(e.allMasters,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"masters-section"},[n("div",{staticClass:"master-card"},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"2"}},[e._v(e._s(r+1))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(e._f("levelName")(t.level)))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.studyType))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.typeName))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.year))]),n("v-col",{staticStyle:{"text-align":"left"},attrs:{cols:"2"}},[n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",depressed:"",color:"error"},on:{click:function(n){return e.deleteMaster(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-trash ")])],1),n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",depressed:"",color:"primary"},on:{click:function(n){return e.goToMasterPage(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-info ")])],1)],1)],1)],1)])])}))],2)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("الشيتات ودرجات الطلبة")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("الشيتات")])])}],R=(n("d81d"),n("a434"),n("159b"),n("b0c0"),n("cb29"),n("caad"),n("2532"),n("e8ae")),O={data:function(){return{e1:1,snackbar:!1,multiLine:!0,dialog2:!1,message:"",dialog:!1,apiUrl:"",defaultButtonText:"",selectedFile:null,isSelecting:!1,failStudents:[],allMasters:[],masterLevel:0,snackbarSuccess:!1,storeLoading:!1,masterYear:"",studyType:"",masterTypeId:"",materials:[],keyComponent:1,storedMasterId:0,sheet:"",allLessons:[],allStudentMarks:[],studentsDegree:[],items:["صباحي","مسائي"],year:["2005-2006","2006-2007","2007-2008","2008-2009","2009-2010","2010-2011","2011-2012","2012-2013","2013-2014","2014-2015","2015-2016","2016-2017","2017-2018","2018-2019","2019-2020","2020-2021"],course:[],level:[{levelId:1,name:"المرحلة الاولى"},{levelId:2,name:"المرحلة الثانية"},{levelId:3,name:"المرحلة الثالثة"},{levelId:4,name:"المرحلة الرابعة"},{levelId:5,name:"المرحلة الخامسة"}],ex4:["red","indigo","orange","primary","secondary","success","info","warning","error","red darken-3","indigo darken-3","orange darken-3"]}},created:function(){var e=this;e.apiUrl=this.$store.state.apiUrl,this.getInitialData()},methods:{getInitialData:function(){var e=this;e.$http.get("".concat(e.apiUrl,"/masterTypes")).then((function(t){console.log(t.data),e.course=t.data})).catch((function(e){console.log(e)})),e.$http.get("".concat(e.apiUrl,"/masters/").concat(this.$store.state.user.perv)).then((function(t){console.log(t.data),e.allMasters=t.data})).catch((function(e){console.log(e)}))},checkForLessonId:function(e,t){var n=e.filter((function(e){return e.lessonName==t}));return n.length>0?n[0].idLesson:-1},deleteMaster:function(e){var t=this,n=this;this.$http.delete("".concat(n.apiUrl,"/masterAll/").concat(e.idMaster)).then((function(e){n.message="تم حذف الشيت",n.snackbarSuccess=!0,t.keyComponent+=1,t.getInitialData(),console.log(e)})).catch((function(e){console.log(e),n.message="حدث خطأ في حذف البيانات",n.snackbar=!0}))},editCollageId:function(e){console.log(e),this.$store.dispatch("loadStudentMaster",e.idMaster),this.$router.push("edit-collage")},goToMasterPage:function(e){var t=this;console.log(e),this.$store.dispatch("getMasterDetailsById",e).then((function(){t.$router.push("/master-info")}))},saveMarks:function(){var e=this;if(console.log(e.allLessons),e.storeLoading=!0,e.allStudentMarks.length>0){var t=e.allStudentMarks.map((function(t){return{collageNumber:t.studentId,mark:t.degree,numberWriting:t.numberWriting,lessonId:-1!=e.checkForLessonId(e.allLessons,t.subject)?e.checkForLessonId(e.allLessons,t.subject):void 0,phase:t.phase,rule:t.rule,studentName:t.studentName}})),n=[];while(t.length>0){var r=t.splice(0,30);n.push(r)}0==t.length&&(Promise.all(n.map((function(t){return e.$http.post("".concat(e.apiUrl,"/addMultiDegrees"),t)}))).then((function(t){e.storeLoading=!1,e.masterLevel=0,e.masterYear="",e.studyType="",e.masterTypeId=0,e.keyComponent+=1,e.e1=1,console.log(t),e.message="تم تخزين البيانات",e.snackbarSuccess=!0})).catch((function(t){e.storeLoading=!1,e.message="حدث خطأ في تخزين البيانات",e.snackbar=!0})),console.log("end of array"))}},handleUpload:function(e){var t=this,n=this;if(e){var r=new R.Workbook,a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){var e=a.result;r.xlsx.load(e).then((function(e){var r=e.getWorksheet("Mini"),a=r.getRow(6).values,s=[],o=[];a.forEach((function(e,t){isNaN(e.result)&&void 0!=e.result&&"التدريب الصيفي"!=e.result&&s.push({subjectName:e.result,index:t})}));var i=a.indexOf("المعدل العام");r.eachRow((function(e,t){var n=s.map((function(n){if(!isNaN(e.values[n.index])&&(null!=e.getCell(i).value||null!=r.getRow(t+1).getCell(i).value))return{studentName:e.getCell(2).result,studentId:isNaN(e.getCell(2).result)?r.getRow(t+1).getCell(2).result:e.getCell(2).result,subject:n.subjectName,degree:e.values[n.index]<50&&"التدريب الصيفي"!=n.name?r.getRow(t+1).getCell(n.index).value:e.values[n.index],numberWriting:isNaN(e.values[n.index+1])&&e.values[n.index]>49?e.values[n.index+1]:r.getRow(t+1).getCell(n.index+1).value,rule:void 0!=r.getRow(t).getCell(n.index).fill.fgColor&&13==r.getRow(t).getCell(n.index).fill.fgColor.indexed||void 0!=r.getRow(t+1).getCell(n.index).fill.fgColor&&13==r.getRow(t+1).getCell(n.index).fill.fgColor.indexed?1:0,phase:e.values[n.index]<50&&r.getRow(t+1).getCell(n.index).value?2:1}}));o.push(n)}));var c=[];o.filter((function(e){e.includes(void 0)?console.log():e.forEach((function(e){c.push(e)}))}));n.allStudentMarks=c,n.dialog=!1,t.saveMarks()})).catch((function(e){console.log(e)}))}}},getMaterial:function(e){var t=this,n=new R.Workbook,r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){var e=r.result;n.xlsx.load(e).then((function(e){var n=e.getWorksheet("MaterialsAndWeights"),r=n.getRow(7).values,a=r.indexOf("المادة"),s=r.indexOf("عدد الوحدات"),o=r.indexOf("Subject in English");console.log(a),console.log(s),console.log(o),n.eachRow((function(e,n){var r={arName:e.values[a],units:e.values[s],enName:e.values[o]};isNaN(r.units)||void 0==r.enName||(console.log(r),t.materials.push(r))}))}))}},addMaster:function(){var e=this;if(e.storeLoading=!0,console.log(e.masterLevel),e.masterLevel>0&&e.masterYear&&e.masterTypeId&&e.studyType){var t={sectionId:e.$store.state.user.perv,level:e.masterLevel,year:e.masterYear,studyType:e.studyType,masterTypeId:e.masterTypeId};console.log(t),e.$http.post("".concat(e.apiUrl,"/addMaster"),t).then((function(t){console.log(t.data),e.getInitialData(),e.storeLoading=!1,e.masterLevel=0,e.masterYear="",e.studyType="",e.masterTypeId=0,e.keyComponent+=1,e.storedMasterId=t.data.id,e.e1=1,e.message="تم تخزين البيانات",e.snackbarSuccess=!0,e.storeLoading=!1})).catch((function(t){e.message="حدث خطأ في تخزين البيانات",e.snackbar=!0,e.storeLoading=!1}))}else e.message="الرجاء اختيار كافة الحقول ",e.snackbar=!0,e.storeLoading=!1},addMaterial:function(){var e=this,t=this;if(t.storeLoading=!0,t.materials.length>0&&t.storedMasterId>0){var n={lessons:t.materials,masterId:t.storedMasterId};t.$http.post("".concat(t.apiUrl,"/addMultiLessons"),n).then((function(n){console.log(n.data),t.$http.get("".concat(t.apiUrl,"/lessons/").concat(t.storedMasterId)).then((function(n){console.log(n.data),e.keyComponent+=1,t.storeLoading=!1,t.e1=3,t.allLessons=n.data,t.materials=[],t.message="تم تخزين البيانات",t.snackbarSuccess=!0})).catch((function(e){t.storeLoading=!1,t.message="حدث خطأ في تخزين البيانات",t.snackbar=!0}))})).catch((function(e){t.storeLoading=!1,t.message="حدث خطأ في تخزين البيانات",t.snackbar=!0}))}else t.message="الرجاء اختيار الشيت",t.snackbar=!0},clear:function(){console.log("clear")},stepperChange:function(){console.log("stepper")},checkForFail:function(e){var t=this,n=new R.Workbook,r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){var a=r.result;n.xlsx.load(a).then((function(n){var r=n.getWorksheet("Mini"),a=r.getRow(6).values,s=a.indexOf("النتيجة"),o=[];r.eachRow((function(e,t){var n={studentName:isNaN(e.getCell(2).result)?e.getCell(2).result:0,fail:"راسب"==r.getRow(t+1).getCell(s).value?r.getRow(t+1).getCell(s).value:""};null!=n.fail&&isNaN(n.fail)&&0!=n.studentName&&(console.log(n),o.push(n))})),t.failStudents=o,t.sheet=e,t.dialog=!0}))}},onButtonClick:function(e,t){var n=this,r=this;r.$http.get("".concat(r.apiUrl,"/lessons/").concat(t.idMaster)).then((function(t){console.log(t.data),r.allLessons=t.data,n.isSelecting=!0,window.addEventListener("focus",(function(){n.isSelecting=!1}),{once:!0}),n.$refs.uploader[e].click()})).catch((function(e){r.message="حدث خطأ في جلب البيانات",r.snackbar=!0,r.storeLoading=!1}))},onFileChanged:function(e){this.selectedFile=e.target.files[0],this.checkForFail(this.selectedFile)}},filters:{levelName:function(e){return 1==e?"المرحلة الاولى":2==e?"المرحلة الثانية":3==e?"المرحلة الثالثة":4==e?"المرحلة الرابعة":"المرحلة الخامسة"},course:function(e){return 1==e?"الكورس الاول":2==e?"الكورس الثاني":void 0}}},E=O,V=(n("7563"),n("8336")),U=n("b0af"),W=n("99d9"),B=n("169a"),P=n("132d"),q=n("b974"),z=n("2db4"),G=n("2fa4"),H=n("7e85"),J=n("e516"),Z=n("9c54"),Q=n("56a4"),K=n("8654"),X=Object(f["a"])(E,M,j,!1,null,"1095d88b",null),ee=X.exports;v()(X,{VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:Y["a"],VDialog:B["a"],VDivider:m["a"],VIcon:P["a"],VRow:A["a"],VSelect:q["a"],VSnackbar:z["a"],VSpacer:G["a"],VStepper:H["a"],VStepperContent:J["a"],VStepperHeader:Z["a"],VStepperItems:Z["b"],VStepperStep:Q["a"],VTextField:K["a"]});var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"title-section"},[n("v-row",[n("v-col",{attrs:{cols:"11"}},[n("div",{staticClass:"title"},[n("h3",[e._v("تعديلات الرقم الاحصائي")])])]),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{icon:"",color:"accent"},on:{click:e.goBack}},[n("v-icon",[e._v("fa-arrow-left")])],1)],1)],1)],1),n("table",{staticStyle:{margin:"40px auto"}},[e._m(0),e._l(e.studentsMaster,(function(t,r){return n("tr",{key:t.collageNumber},[n("td",[n("div",{staticStyle:{"margin-right":"20px"}},[e._v(" "+e._s(r+1)+" ")])]),n("td",[n("div",{staticStyle:{"margin-right":"20px"}},[e._v(" "+e._s(t.studentName)+" ")])]),n("td",[n("div",{staticStyle:{"margin-top":"20px"}},[n("v-text-field",{attrs:{label:"الرقم الاحصائي",value:t.collageNumber,outlined:"",dense:""}})],1)])])}))],2)])},ne=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("التسلسل")]),n("th",[e._v("اسم الطالب")]),n("th",[e._v("الرقم الاحصائي")])])}],re=n("5530"),ae=n("2f62"),se={data:function(){return{}},created:function(){console.log(this.$store.state.studentsMaster)},methods:{goBack:function(){this.$router.go(-1)}},computed:Object(re["a"])({},Object(ae["b"])(["studentsMaster"]))},oe=se,ie=(n("c6b69"),Object(f["a"])(oe,te,ne,!1,null,"758ce2cd",null)),ce=ie.exports;v()(ie,{VBtn:V["a"],VCol:Y["a"],VIcon:P["a"],VRow:A["a"],VTextField:K["a"]});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.keyComponent},[e._m(0),n("div",{staticClass:"not-print"},[n("v-row",[n("v-col",{attrs:{cols:"2"}}),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"success"},on:{click:e.createExcelFile}},[e._v(" طباعة ")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.typeOfStudy,label:"الدراسة",dense:"",outlined:""},on:{change:e.checkForClass},model:{value:e.studyType,callback:function(t){e.studyType=t},expression:"studyType"}})],1)],1)],1),n("table",{staticStyle:{margin:"10px auto"},attrs:{border:"1"}},[e._m(1),e._l(e.fourthStudents,(function(t,r){return n("tr",{key:r},[n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.name))]),n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.college_number))])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.firstStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.firstStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.secondStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.secondStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.thirdStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.thirdStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(t.name)+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(t.college_number)+" - "+e._s(e.login.currentYear)+" ")])])])}))],2)])},de=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section not-print"},[n("h2",[e._v("مقارنة المراحل")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("اسم الطالب")]),n("th",[e._v("المرحلة الاولى")]),n("th",[e._v("المرحلة الثانية")]),n("th",[e._v("المرحلة الثالثة")]),n("th",[e._v("المرحلة الرابعة")])])}],ue=n("1da1"),fe=(n("96cf"),n("2b3d"),n("e8ae")),pe={data:function(){return{fourthStudents:[],firstStudents:[],studyType:"",keyComponent:0,originalStudent:[],typeOfStudy:["صباحي","مسائي"],secondStudents:[],thirdStudents:[],fifthStudents:[],login:""}},created:function(){var e=this;this.login=this.$store.state.user;var t=this.$store.state.apiUrl,n=this.$store.state.oldUrl;this.$http.get("".concat(n,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4&").concat(this.$store.state.searchTerm,"&page=1&limit=1000")).then((function(t){e.fourthStudents=t.data,e.originalStudent=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=1")).then((function(t){e.firstStudents=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=2")).then((function(t){e.secondStudents=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=3")).then((function(t){e.thirdStudents=t.data})).catch((function(e){console.log(e)}))},methods:{findStudentLevel:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].collageNumber," - ").concat(n[0].year," "):" لايوجد"},findStudentName:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].studentName):" لايوجد"},checkForClass:function(){var e,t=this;t.fourthStudents=t.originalStudent,e=t.fourthStudents.filter((function(e){return e.type==t.studyType})),e.length>0?t.fourthStudents=e:t.fourthStudents=t.originalStudent},printCompare:function(){window.print()},createExcelFile:function(){var e=this;return Object(ue["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=new fe.Workbook,a=r.addWorksheet("My Sheet"),a.views=[{rightToLeft:!0}],a.columns=[{header:"اسم الطالب",key:"name",width:55},{header:"المرحلة الاولى",key:"levelOne",width:55},{header:"المرحلة الثانية\t",key:"levelTwo",width:55},{header:"المرحلة الثالثة",key:"levelThree",width:55},{header:"المرحلة الرابعة",key:"levelFour",width:55}],e.fourthStudents.forEach((function(e){a.addRow({name:"".concat(e.name," \n ").concat(e.college_number),levelOne:"".concat(n.findStudentName(e.college_number,n.firstStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.firstStudents)),levelTwo:"".concat(n.findStudentName(e.college_number,n.secondStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.secondStudents)),levelThree:"".concat(n.findStudentName(e.college_number,n.thirdStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.thirdStudents)),levelFour:"".concat(n.findStudentName(e.college_number,n.fourthStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.fourthStudents))})})),a.eachRow((function(e,t){e.eachCell((function(e){e.alignment={vertical:"middle",horizontal:"center"},"غ"==e.value&&(e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFF0000"},bgColor:{argb:"FF0000FF"}})}))})),a.getRow(1).eachCell((function(e){e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}}})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download="مقارنة-المراحل.xlsx",r.click(),window.URL.revokeObjectURL(n),r.remove()}));case 9:case"end":return t.stop()}}),t)})))()}}},ve=pe,he=(n("d333"),Object(f["a"])(ve,le,de,!1,null,"153d6e84",null)),ge=he.exports;v()(he,{VBtn:V["a"],VCol:Y["a"],VRow:A["a"],VSelect:q["a"]});var me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"not-print"},[n("v-row",[n("v-col",{attrs:{cols:"2"}}),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"success"},on:{click:e.createExcelFile}},[e._v(" طباعة ")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.typeOfStudy,label:"الدراسة",dense:"",outlined:""},on:{change:e.checkForClass},model:{value:e.studyType,callback:function(t){e.studyType=t},expression:"studyType"}})],1)],1)],1),n("table",{staticStyle:{margin:"10px auto"},attrs:{border:"1"}},[e._m(1),e._l(e.fifthStudents,(function(t,r){return n("tr",{key:r},[n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.name))]),n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.college_number))])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.firstStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.firstStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.secondStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.secondStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.thirdStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.thirdStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentName(t.college_number,e.fourthStudents))+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.fourthStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(t.name)+" ")]),n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(t.college_number)+" - "+e._s(e.login.currentYear)+" ")])])])}))],2)])},Se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("مقارنة المراحل")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("اسم الطالب")]),n("th",[e._v("المرحلة الاولى")]),n("th",[e._v("المرحلة الثانية")]),n("th",[e._v("المرحلة الثالثة")]),n("th",[e._v("المرحلة الرابعة")]),n("th",[e._v("المرحلة الخامسة")])])}],be=n("e8ae"),ye={data:function(){return{fourthStudents:[],firstStudents:[],secondStudents:[],typeOfStudy:["صباحي","مسائي"],studyType:"",thirdStudents:[],originalStudent:[],fifthStudents:[],login:""}},created:function(){var e=this;this.login=this.$store.state.user;var t=this.$store.state.apiUrl,n=this.$store.state.oldUrl;this.$http.get("".concat(n,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=5&").concat(this.$store.state.searchTerm,"&page=1&limit=1000")).then((function(t){e.fifthStudents=t.data,e.originalStudent=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=1")).then((function(t){e.firstStudents=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4")).then((function(t){e.fourthStudents=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=2")).then((function(t){e.secondStudents=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(t,"/masterInfo?sectionId=").concat(this.$store.state.user.perv,"&level=3")).then((function(t){e.thirdStudents=t.data})).catch((function(e){console.log(e)}))},methods:{findStudentLevel:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].collageNumber," - ").concat(n[0].year," "):" لايوجد"},checkForClass:function(){var e,t=this;t.fifthStudents=t.originalStudent,console.log(t.studyType),e=t.fifthStudents.filter((function(e){return e.type==t.studyType})),e.length>0?t.fifthStudents=e:t.fifthStudents=t.originalStudent},findStudentName:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].studentName):" لايوجد"},createExcelFile:function(){var e=this;return Object(ue["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=new be.Workbook,a=r.addWorksheet("My Sheet"),a.views=[{rightToLeft:!0}],a.columns=[{header:"اسم الطالب",key:"name",width:55},{header:"المرحلة الاولى",key:"levelOne",width:55},{header:"المرحلة الثانية\t",key:"levelTwo",width:55},{header:"المرحلة الثالثة",key:"levelThree",width:55},{header:"المرحلة الرابعة",key:"levelFour",width:55},{header:"المرحلة الخامسة",key:"levelFive",width:55}],e.fifthStudents.forEach((function(e){a.addRow({name:"".concat(e.name," \n ").concat(e.college_number),levelOne:"".concat(n.findStudentName(e.college_number,n.firstStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.firstStudents)),levelTwo:"".concat(n.findStudentName(e.college_number,n.secondStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.secondStudents)),levelThree:"".concat(n.findStudentName(e.college_number,n.thirdStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.thirdStudents)),levelFour:"".concat(n.findStudentName(e.college_number,n.fourthStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.fourthStudents)),levelFive:"".concat(n.findStudentName(e.college_number,n.fifthStudents)," \n ").concat(n.findStudentLevel(e.college_number,n.fifthStudents))})})),a.eachRow((function(e,t){e.eachCell((function(e){e.alignment={vertical:"middle",horizontal:"center"},"غ"==e.value&&(e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFF0000"},bgColor:{argb:"FF0000FF"}})}))})),a.getRow(1).eachCell((function(e){e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}}})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download="مقارنة-المراحل.xlsx",r.click(),window.URL.revokeObjectURL(n),r.remove()}));case 9:case"end":return t.stop()}}),t)})))()}}},_e=ye,ke=(n("72aa"),Object(f["a"])(_e,me,Se,!1,null,"4535faa0",null)),xe=ke.exports;v()(ke,{VBtn:V["a"],VCol:Y["a"],VRow:A["a"],VSelect:q["a"]});var we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center"}},[r("img",{attrs:{src:n("cf05"),width:"600px"}})])],1),r("v-row",{attrs:{"align-content":"center"}},[r("v-col",{staticStyle:{"text-align":"center"}},[r("h2",[e._v("تسجيل الدخول")])])],1),r("div",{staticStyle:{width:"400px",margin:"50px auto"}},[r("v-text-field",{attrs:{placeholder:"اسم المستخدم",solo:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),r("v-text-field",{attrs:{placeholder:"كلمة المرور",solo:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterClick(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("div",{staticStyle:{margin:"0px auto"}},[r("v-btn",{staticStyle:{width:"100%"},attrs:{color:"success"},on:{click:e.login}},[e._v(" تسجيل ")])],1)],1)],1)},Te=[],Ie={data:function(){return{userName:"",password:""}},created:function(){},methods:{login:function(){var e=this;this.$store.dispatch("login",{name:this.userName,password:this.password}).then((function(){e.$router.push("/")})).catch((function(){}))},onEnterClick:function(){this.login()}}},De=Ie,Ne=Object(f["a"])(De,we,Te,!1,null,"a1594d9c",null),Le=Ne.exports;v()(Ne,{VBtn:V["a"],VCol:Y["a"],VRow:A["a"],VTextField:K["a"]});var Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),e._m(0),n("div",[n("v-row",[n("v-col",{attrs:{cols:"2"}}),n("v-col",{attrs:{cols:"3"}},[e.loadingBTN?n("v-progress-circular",{attrs:{active:e.loadingBTN,size:40,width:5,indeterminate:e.loadingBTN,color:"teal"}}):e._e(),e.loadingBTN?e._e():n("v-btn",{attrs:{color:"success",disabled:!e.foundAverage},on:{click:e.saveAllAverages}},[e._v(" حفظ المعدلات ")])],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{color:"success"},on:{click:e.createExcelFile}},[e._v(" تصدير Excel ")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.typeOfStudy,label:"الدراسة",dense:"",outlined:""},on:{change:e.checkForClass},model:{value:e.studyType,callback:function(t){e.studyType=t},expression:"studyType"}})],1),n("v-col",{attrs:{cols:"1"}})],1)],1),n("v-row",[n("v-col",{staticStyle:{"text-align":"center"},attrs:{"align-self":"center"}},[e.loadingBar?n("v-progress-circular",{attrs:{active:e.loadingBar,size:70,width:7,indeterminate:e.loadingBar,color:"teal"}}):e._e()],1)],1),e.loadingBar?e._e():n("table",{staticStyle:{margin:"10px auto"},attrs:{border:"1"}},[e._m(1),e._l(e.fourthStudents,(function(t,r){return e.showTable?n("tr",{key:r},[n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(r+1))])]),n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.name))]),n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.college_number))])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.secondStudents,2,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findAverageForFourthLevel(t.college_number,e.fourthStudentDegree))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findAverageForFourthLevel(t.college_number,e.fourthStudentDegree)))+" ")])])]):e._e()}))],2)],1)},Fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("المعدلات")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("التسلسل")]),n("th",[e._v("اسم الطالب")]),n("th",[e._v("المرحلة الاولى")]),n("th",[e._v("المرحلة الثانية")]),n("th",[e._v("المرحلة الثالثة")]),n("th",[e._v("المرحلة الرابعة")]),n("th",[e._v("المعدل التراكمي")])])}],Ae=(n("820e"),n("b680"),n("7db0"),n("13d5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[e._m(0),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("div",{staticClass:"sheet-wrapper"},[n("v-stepper",{attrs:{vertical:""},on:{change:e.stepperChange},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{color:"accent",complete:e.e1>1,step:"1"}},[e._v(" بحث عن طالب ")])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.allStudents,"item-text":"name","item-value":"college_number",outlined:"",dense:"",label:"اسم الطالب"},model:{value:e.chosenStudent,callback:function(t){e.chosenStudent=t},expression:"chosenStudent"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.studyTypes,"item-text":"name","item-value":"value",outlined:"",dense:"",label:"التسلسل حسب..."},model:{value:e.chosenStudyType,callback:function(t){e.chosenStudyType=t},expression:"chosenStudyType"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.documentType,"item-text":"name","item-value":"value",outlined:"",dense:"",label:"نوع المستند..."},model:{value:e.chosenDocumentType,callback:function(t){e.chosenDocumentType=t},expression:"chosenDocumentType"}})],1)],1),n("v-btn",{attrs:{color:"accent",loading:e.storeLoading},on:{click:e.searchForStudent}},[e._v(" بحث ")])],1)],1)],1)],1),n("v-row",[n("v-col",{staticStyle:{"text-align":"center"}},[e.showLoadingStatus?n("v-progress-circular",{attrs:{active:e.showLoadingStatus,size:70,width:7,indeterminate:e.showLoadingStatus,color:"teal"}}):e._e()],1)],1),e.showConfirm?n("v-card",{staticStyle:{padding:"15px",margin:"45px"},attrs:{elevation:"3"}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("h3",[e._v("الاسم الكامل : "+e._s(e.findStudent.name))]),n("h3",[e._v(" محل وتاريخ الولادة : "+e._s(e.findStudent.resident)+" - "+e._s(e._f("convertDate")(e.findStudent.birthdate))+" ")]),n("h3",[e._v("الشهادة : بكالوريوس في "+e._s(e.$store.state.user.fullName))]),n("h3",[e._v("القسم : "+e._s(e.$store.state.user.fullName))]),n("h3",[e._v("سنة القبول : "+e._s(e.toIndiaDigits(e.findStudent.enter_year)))]),n("h3",[e._v(" ادناه المواد الدراسية والدرجات التي حصل عليها خلال سنوات الدراسة . ")])]),n("v-col",{staticStyle:{"padding-right":"45px"},attrs:{cols:"6"}},[n("h3",[e._v("الجنسية : عراقي")]),n("h3",[e._v(" المعدل : "+e._s(e.toIndiaDigits(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" % ")]),n("h3",[e._v(" التقدير : "+e._s(e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" ")]),n("h3",[e._v(" الدراسة : "+e._s("صباحي"==e.findStudent.type?"الصباحية":"المسائية")+" ")]),n("h3",[e._v(" التسلسل : "+e._s(e.toIndiaDigits(e.getAllAverage(e.findStudent.college_number,e.findStudent)+1))+" من مجموع "+e._s(e.toIndiaDigits(e.studentLength))+" خريجاً ")]),n("h3",[e._v(" علماً ان معدل الخريج الاول : "+e._s(e.toIndiaDigits(e.studentsAverage[0].average))+" % ")])])],1),1==e.firstClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.firstYearMarks,1,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.firstClass).courseOne,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.firstClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.firstClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.firstYearMarks,1,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.firstClass).courseTwo,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.firstClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.firstClass)))+" ")])])],2)])],1):e._e(),2==e.firstClass[0].masterTypeId&&1==e.secondClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.firstYearMarks,1,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.firstClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.firstClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.firstClass)))+" ")])])],2)])],1):e._e(),1==e.secondClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.secondYearMarks,2,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.secondClass).courseOne,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.secondClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.secondClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.secondYearMarks,2,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.secondClass).courseTwo,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.secondClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.secondClass)))+" ")])])],2)])],1):e._e(),1==e.firstClass[0].masterTypeId&&2==e.secondClass[0].masterTypeId&&2==e.thirdClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.secondYearMarks,2,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.secondClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.secondClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.secondClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.thirdClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)])],1):e._e(),2==e.firstClass[0].masterTypeId&&2==e.secondClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.firstYearMarks,1,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.firstClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.firstClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.firstClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.secondYearMarks,2,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.secondClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.secondClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.secondClass)))+" ")])])],2)])],1):e._e(),2==e.firstClass[0].masterTypeId&&2==e.secondClass[0].masterTypeId&&2==e.thirdClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.thirdClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)])],1):e._e(),2==e.thirdClass[0].masterTypeId&&1==e.fourthType.type?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.thirdClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الرابعة")]),n("th",{attrs:{colspan:"3"}},[e._v(e._s(e.toIndiaDigits("2020 - 2019")))])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.toIndiaDigits(t.degree))+" ")]),n("td",[e._v(e._s(e.numberToWord(t.degree)))]),n("td",[e._v(e._s(e.toIndiaDigits(t.credit)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees))?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fourthStudentsDegrees)))+" ")])])],2)])],1):e._e(),1==e.thirdClass[0].masterTypeId?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.thirdClass).courseOne,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.thirdClass).courseTwo,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)])],1):e._e(),2==e.fourthType.type?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الرابعة")]),n("th",{attrs:{colspan:"3"}},[e._v(e._s(e.toIndiaDigits("2020 - 2019")))])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees)).courseOne,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.toIndiaDigits(t.degree))+" ")]),n("td",[e._v(e._s(e.numberToWord(t.degree)))]),n("td",[e._v(e._s(e.toIndiaDigits(t.credit)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees))?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fourthStudentsDegrees)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الرابعة")]),n("th",{attrs:{colspan:"3"}},[e._v(e._s(e.toIndiaDigits("2020 - 2019")))])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getMasterSplit(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees)).courseTwo,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.toIndiaDigits(t.degree))+" ")]),n("td",[e._v(e._s(e.numberToWord(t.degree)))]),n("td",[e._v(e._s(e.toIndiaDigits(t.credit)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fourthStudentsDegrees))?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fourthStudentsDegrees)))+" ")])])],2)])],1):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h5",[e._v(" التقديرات : مقبول ( ٥٠ - ٥٩ ) ، متوسط ( ٦٠ - ٦٩ ) ، جيد ( ٧٠ - ٧٩ ) ، جيد جداً ( ٨٠ - ٨٩ ) ، امتياز ( ٩٠ - ١٠٠ ) . ")]),n("h5",{staticStyle:{"text-decoration":"underline"}},[e._v("الملاحظات:")]),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ١- المدة الاصغرية المطلوبة لنيل شهادة البكالوريوس هي اربع سنوات . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٢- ترمز العلامة * لدرجة النجاح بالدور الثاني . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٣- سنوات الرسوب :"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.failYears,expression:"failYears"}],attrs:{type:"text",placeholder:"سنوات الرسوب"},domProps:{value:e.failYears},on:{input:function(t){t.target.composing||(e.failYears=t.target.value)}}})]),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" سنوات التأجيل : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.postponementYear,expression:"postponementYear"}],attrs:{type:"text",placeholder:"سنوات التأجيل"},domProps:{value:e.postponementYear},on:{input:function(t){t.target.composing||(e.postponementYear=t.target.value)}}})]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٤- "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.exception,expression:"exception"}],staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"نص استيفاء الطالب"},domProps:{value:e.exception},on:{input:function(t){t.target.composing||(e.exception=t.target.value)}}}),e._v(" . ")]),n("br"),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٥- "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.yearsDelay,expression:"yearsDelay"}],staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"سنوات عدم رسوب الطالب"},domProps:{value:e.yearsDelay},on:{input:function(t){t.target.composing||(e.yearsDelay=t.target.value)}}}),e._v(" . ")])])],1),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"info",loading:e.storeLoading},on:{click:e.storeStudentDocument}},[e._v(" ارسال للتسجيل ")])],1)],1)],1):e._e(),e.show?n("v-card",{staticStyle:{padding:"15px",margin:"45px"},attrs:{elevation:"3"}},[n("h3",[e._v("الطالب : "+e._s(e.findStudent.name))]),n("h3",[e._v(" المعدل : "+e._s(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number))+" ")]),n("h3",[e._v(" التقدير : "+e._s(e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" ")]),n("h3",[e._v("الجنس : "+e._s(e.findStudent.sex))]),n("h3",[e._v("الدراسة : "+e._s(e.findStudent.type))]),n("h3",[e._v(" الدور : "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fourthStudentsDegrees)))+" ")]),n("h3",[e._v(" التسلسل : "+e._s(e.getAllAverage(e.findStudent.college_number,e.findStudent)+1)+" من اصل "+e._s(e.studentLength)+" ")]),n("h3",[e._v(" التدريب الصيفي : "+e._s(e.checkTraining(e.findStudent.college_number,e.findStudent.type).summerStudent)+" ")]),n("v-card-actions",[n("v-btn",{staticStyle:{"margin-top":"20px"},attrs:{color:"red lighten-2",text:""},on:{click:e.saveForRegister}},[e._v(" ارسال للتسجيل ")])],1)],1):e._e()],1)}),Ce=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("انشاء الوثائق")])])}],$e=(n("1276"),n("ac1f"),n("25f0"),n("a15b"),n("5319"),n("7039"),n("c740"),{data:function(){return{chosenStudent:"",show:!1,storeLoading:!1,chosenDocumentType:"",studyTypes:[{name:"الكل",value:0},{name:"حسب دراسة الطالب",value:1}],documentType:[{name:"تأييد تخرج",value:1},{name:"وثيقة تخرج",value:2}],snackbarSuccess:!1,snackbar:!1,headOfDepartment:"",multiLine:!0,phase:1,levelOneCourse:[],levelTwoCourse:[],levelThirdCourse:[],showConfirm:!1,yearsDelay:"",message:"",fourthType:"",postponementYear:"",failYears:"",chosenStudyType:0,allStudents:[],studentLength:0,firstYearMarks:[],exception:"",secondYearMarks:[],thirdYearMarks:[],firstClass:[],studentsAverage:[],secondClass:[],thirdClass:[],showLoadingStatus:!1,backupMarks:[],sequenceType:0,summerTrainingStudents:[],findStudent:{},fourthStudentsDegrees:[],fourthLessons:[],totalUnitsFourth:0,lessonTotal:0,e1:1}},created:function(){this.getStudentInfo()},methods:{stepperChange:function(){console.log("stepper")},numberToWord:function(e){var t=["احدى","اثنتان","ثلاث","اربع","خمس","ست","سبع","ثمان","تسع","عشرة","عشرون","ثلاثون","اربعون","خمسون","ستون","سبعون","ثمانون","تسعون","مئة"];switch(e){case 10:return t[9];case 20:return t[10];case 30:return t[11];case 40:return t[12];case 50:return t[13];case 60:return t[14];case 70:return t[15];case 80:return t[16];case 90:return t[17];case 100:return t[18]}var n=[],r=e.toString().split("");switch(parseInt(r[1])){case 1:n.push(t[0]);break;case 2:n.push(t[1]);break;case 3:n.push(t[2]);break;case 4:n.push(t[3]);break;case 5:n.push(t[4]);break;case 6:n.push(t[5]);break;case 7:n.push(t[6]);break;case 8:n.push(t[7]);break;case 9:n.push(t[8]);break}switch(parseInt(r[0])){case 1:n.push("و"),n.push(t[9]);break;case 2:n.push("و"),n.push(t[10]);break;case 3:n.push("و"),n.push(t[11]);break;case 4:n.push("و"),n.push(t[12]);break;case 5:n.push("و"),n.push(t[13]);break;case 6:n.push("و"),n.push(t[14]);break;case 7:n.push("و"),n.push(t[15]);break;case 8:n.push("و"),n.push(t[16]);break;case 9:n.push("و"),n.push(t[17]);break}if(n.length>0)return n.join(" ")},getStudentInfo:function(){var e=this,t=this.$store.state.searchTerm,n=this.$store.state.oldUrl;this.$http.get("".concat(n,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4&").concat(t,"&page=1&limit=1000")).then((function(t){e.allStudents=t.data})).catch((function(e){console.log(e)}))},searchForStudent:function(){var e=this;e.showLoadingStatus=!0,e.findStudent=e.allStudents.find((function(t){if(t.college_number==e.chosenStudent)return t}));var t=this.$store.state.apiUrl,n=this.$store.state.oldUrl,r="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=1&collageNumber=").concat(parseInt(this.findStudent.college_number)),a="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=2&collageNumber=").concat(parseInt(this.findStudent.college_number)),s="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=3&collageNumber=").concat(parseInt(this.findStudent.college_number)),o="".concat(n,"/studentAllMarks?sectionId=").concat(this.$store.state.user.perv,"&level=4&collegeNumber=").concat(parseInt(this.findStudent.college_number)),i="".concat(n,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=4"),c="".concat(n,"/sectionLessonsForDocument?sectionId=").concat(this.$store.state.user.perv,"&level=4"),l="".concat(n,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=4"),d="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=1"),u="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=2"),f="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=3"),p="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=4"),v="".concat(t,"/summerTrainings/").concat(this.$store.state.user.perv),h="".concat(this.$store.state.apiUrl,"/averageBySection/").concat(this.$store.state.user.perv),g="".concat(n,"/sectionLevel?sectionId=").concat(this.$store.state.user.perv,"&level=4&year=2019-2020");function m(){return e.$http.get(r)}function S(){return e.$http.get(a)}function b(){return e.$http.get(s)}function y(){return e.$http.get(o)}function _(){return e.$http.get(i)}function k(){return e.$http.get(c)}function x(){return e.$http.get(l)}function w(){return e.$http.get(d)}function T(){return e.$http.get(u)}function I(){return e.$http.get(f)}function D(){return e.$http.get(p)}function N(){return e.$http.get(v)}function L(){return e.$http.get(h)}function Y(){return e.$http.get(g)}Promise.allSettled([m(),S(),b(),y(),_(),k(),x(),w(),T(),I(),D(),N(),L(),Y()]).then((function(t){var n=t[0],r=t[1],a=t[2],s=t[3],o=t[4],i=t[5],c=t[6],l=t[7],d=t[8],u=t[9],f=t[10],p=t[11],v=t[12],h=t[13];e.firstClass="fulfilled"==n.status?n.value.data:[],e.secondClass="fulfilled"==r.status?r.value.data:[],e.thirdClass="fulfilled"==a.status?a.value.data:[],e.fourthStudentsDegrees="fulfilled"==s.status?s.value.data:[],e.lessonTotal="fulfilled"==o.status?o.value.data:[],e.fourthLessons="fulfilled"==i.status?i.value.data:[],e.totalUnitsFourth="fulfilled"==c.status?c.value.data[0].total:0,e.backupMarks="fulfilled"==f.status?f.value.data:[],e.firstYearMarks="fulfilled"==l.status?l.value.data:[],e.secondYearMarks="fulfilled"==d.status?d.value.data:[],e.thirdYearMarks="fulfilled"==u.status?u.value.data:[],e.summerTrainingStudents="fulfilled"==p.status?p.value.data:[],e.studentsAverage="fulfilled"==v.status?v.value.data:[],e.fourthType="fulfilled"==h.status?h.value.data:[],0==e.studentsAverage.length?(e.showLoadingStatus=!1,e.message="الرجاء حفظ المعدلات قبل اصدار وثيقة او تأييد",e.snackbar=!0):e.showLoadingStatus=!1,2==e.chosenDocumentType?(e.showConfirm=!0,e.show=!1):(e.show=!0,e.showConfirm=!1)})).catch((function(e){console.log(e)}))},toIndiaDigits:function(e){try{var t=["۰","۱","۲","۳","٤","٥","٦","۷","۸","۹"],n=e.toString(),r=n.replace(/[0-9]/g,(function(e){return t[+e]}));return r.replace(".",",")}catch(a){self.showLoadingStatus=!1,self.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",self.snackbar=!0}},printDocument:function(){var e=this;fs.readFile(path.join(__static,"docS.docx"),"binary",(function(t,n){if(t)throw t;var r=new PizZip(n),a=new Docxtemplater(r);a.setData({studentName:e.student.studentName,department:e.student.sectionName,locationAndBirth:e.setPhaseAndDate(e.student.phase).date,write:e.student.averageWrite,seq:e.student.sequence,total:e.student.totalStudent,average:e.toIndiaDigits(e.student.average)});try{a.render()}catch(t){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:t},s)),t.properties&&t.properties.errors instanceof Array){var o=t.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw t}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});saveAs(i,"".concat(e.student.studentName,".docx"))}))},saveForRegister:function(){var e=this,t=e.checkTraining(e.findStudent.college_number,e.findStudent.type);if("مستوف"==t.summerStudent){var n=e.getStudentAverage(e.studentsAverage,e.findStudent.college_number),r={studentName:e.findStudent.name,phase:e.checkForSecondTerm(e.fourthStudentsDegrees),studyType:e.findStudent.type,average:n,averageWrite:e.findAverageWriting(n),sectionId:e.$store.state.user.perv,gender:e.findStudent.sex,sequence:e.getAllAverage(e.findStudent.college_number,e.findStudent)+1,totalStudent:e.studentLength,sequenceType:e.sequenceType};e.$http.post("".concat(e.$store.state.apiUrl,"/addRegisterDocument"),r).then((function(t){console.log(t),e.message="تم ارسال البيانات للتسجيل",e.snackbarSuccess=!0,e.show=!1})).catch((function(t){console.log(t),e.message="حدث خطا اثناء الارسال الرجاء التاكد من الاتصال",e.snackbar=!0,e.show=!1}))}else e.message="الطالب غير مستوف في التدريب الصيفي",e.snackbar=!0,e.show=!1},findAverageWriting:function(e){return e>=50&&e<=59.999?"مقبول":e>=60&&e<=69.999?"متوسط":e>=70&&e<=79.999?"جيد":e>=80&&e<=89.999?"جيد جدا":e>=90&&e<=100?"امتياز":"راسب"},findStudentLevel:function(e,t,n,r){var a=0,s=0;t.filter((function(e){a+=e.mark*e.units,s+=e.units}));return a>0?(100*a/100/s).toFixed(3):0},getMasterSplit:function(e){return console.log(e),{courseOne:e.filter((function(e){return 1==e.course})),courseTwo:e.filter((function(e){return 2==e.course}))}},checkRule:function(e){return!(!e.find((function(e){return 1==e.rule}))&&!e.find((function(e){return"qarar"==e.examType})))},studentLessonMarks:function(e,t,n,r){var a=t.filter((function(t){if(t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));if(a.length>0)return a;if(0!=a.length)return[];var s=t.filter((function(t){if("0"+t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));return s.length>0?s:void 0},getStudentAverage:function(e,t){var n=this;if(0==e.length)n.showLoadingStatus=!1,n.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",n.snackbar=!0,console.log("enter average");else try{return e.find((function(e){return e.collegeNumber==t})).average}catch(r){n.showLoadingStatus=!1,n.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",n.snackbar=!0,console.log("found error")}},findStudentLevelRegister:function(e,t,n,r){var a=0,s=0;t.filter((function(t){t.collageNumber!=e&&"0"+t.collageNumber!=e||t.level!=n||t.studyType!=r||(a+=t.mark*t.units,s+=t.units)}));return a>0?(100*a/100/s).toFixed(3):0},checkTraining:function(e,t){var n=this,r=n.summerTrainingStudents.filter((function(t){return t.collageNumber==e||t.collageNumber=="0".concat(e)}));if(r.length>0){if(0!=n.chosenStudyType){var a=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:a.length>0?a.length:0,summerStudent:"غير مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"غير مستوف"}}if(0!=n.chosenStudyType){var s=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:s.length>0?s.length:0,summerStudent:"مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"مستوف"}},checkForStudentCollageNumber:function(e,t){var n=t.find((function(t){return t.collageNumber==e}));return void 0!=n},getAllAverage:function(e,t){var n=this,r=[],a="صباحي"==t.type?1:2,s=0;if(0!=n.chosenStudyType?(n.sequenceType=1,r=n.studentsAverage.filter((function(e){return e.studyType==a})),s=r.findIndex((function(t){return t.collegeNumber==e||t.collegeNumber=="0".concat(e)}))):(n.sequenceType=2,r=n.studentsAverage,s=r.findIndex((function(t){return t.collegeNumber==e||t.collegeNumber=="0".concat(e)})),console.log(s)),r.length>0)return n.studentLength=r.length,s||0;console.log("not found students"),n.studentLength=r.length},storeStudentDocument:function(){var e=this;if(e.failYears&&e.postponementYear&&e.exception){console.log(e.findStudent.birthdate);var t={studentName:e.findStudent.name,studentNameEn:e.findStudent.name,collegeId:e.findStudent.college_number,studentId:e.findStudent.id,sectionId:e.findStudent.sectionid,sectionName:e.$store.state.user.sectionName,enterYear:e.findStudent.enter_year,dob:"".concat(e.findStudent.resident," - ").concat(e.$options.filters.convertDateEN(e.findStudent.birthdate)),average:e.getStudentAverage(e.studentsAverage,e.findStudent.college_number),averageWriting:e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)),sequence:e.getAllAverage(e.findStudent.college_number,e.findStudent)+1,totalStudents:e.studentLength,firstAverage:e.studentsAverage[0].average,phase:e.checkForSecondTerm(e.fourthStudentsDegrees),failYears:e.failYears,postponementYear:e.postponementYear,exception:e.exception,type:e.findStudent.type,yearsDelay:e.yearsDelay};e.$http.post("".concat(e.$store.state.apiUrl,"/addGraduationDocument"),t).then((function(t){e.showConfirm=!1,e.show=!1,e.message="تم حفظ البيانات",e.snackbarSuccess=!0})).catch((function(t){console.log(t),e.message="حدث خطأ في خزن البيانات",e.snackbar=!0}))}else console.log("not"),e.show=!1,e.showConfirm=!1,e.message="حدث خطأ تأكد من المعلومات",e.snackbar=!0},getLastYearMarks:function(e,t){var n=e.find((function(e){return"custom"==e.markType})),r=e.find((function(e){return"custom2"==e.markType}));if(void 0!=n){var a=n.degree*n.credit;return a}if(void 0!=r){var s=r.degree*r.credit;return s}if(1==t){var o=e.find((function(e){return"final2"==e.markType}));if(void 0!=o){var i=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),c=i.reduce((function(e,t){return e+t.degree*t.credit}),0);return c}var l=e.reduce((function(e,t){return e+t.degree*t.credit}),0);return l}if(2==t){var d=e.find((function(e){return"final2"==e.markType}));if(void 0!=d){var u=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),f=u.reduce((function(e,t){return e+t.degree*t.credit}),0);return f}var p=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree*t.credit}),0);return v}},getLastYearMarksTwo:function(e,t,n){var r=e.find((function(e){return"custom"==e.markType})),a=e.find((function(e){return"custom2"==e.markType}));if(void 0!=r){var s=r.degree;return{degree:s,lessonName:n.name,credit:n.credit,course:n.course}}if(void 0!=a){var o=a.degree;return{degree:o,lessonName:n.name,credit:n.credit,course:n.course}}if(1==t){var i=e.find((function(e){return"final2"==e.markType}));if(void 0!=i){var c=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),l=c.reduce((function(e,t){return e+t.degree}),0);return{degree:l,lessonName:n.name,credit:n.credit}}var d=e.reduce((function(e,t){return e+t.degree}),0);return{degree:d,lessonName:n.name,credit:n.credit}}if(2==t){var u=e.find((function(e){return"final2"==e.markType}));if(void 0!=u){var f=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),p=f.reduce((function(e,t){return e+t.degree}),0);return{degree:p,lessonName:n.name,credit:n.credit}}var v=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),h=v.reduce((function(e,t){return e+t.degree}),0);return{degree:h,lessonName:n.name,credit:n.credit,course:n.course}}},checkForSecondTerm:function(e){var t=e.find((function(e){return"custom2"==e.markType||"final2"==e.markType}));return void 0!=t?2:1},checkForSecondTermsLevel:function(e){var t=e.find((function(e){return 2==e.phase}));return void 0!=t?2:1},getLastYearLessonsMarks:function(e,t){var n=this,r=t.filter((function(t){if(t.college_number==e||"0"+t.college_number==e)return t}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarksTwo(t,n.$store.state.levelType,e);a.push(s)}}));return a}if(console.log(n.backupMarks),n.backupMarks.find((function(t){return t.collageNumber==e}))){var s=n.backupMarks.map((function(e){return{degree:e.mark,lessonName:e.lessonName,credit:e.units,markType:1==e.phase?"custom":"custom2"}}));return s}return[]},findAverageForFourthLevel:function(e,t){var n=this,r=t.filter((function(t){return t.college_number==e||"0"+t.college_number==e}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){console.log(e);var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){console.log(t);var s=n.getLastYearMarks(t,n.$store.state.levelType);a.push(s)}}));if(a.length>0){var s=a.reduce((function(e,t){return e+t}),0);return(100*s/100/n.totalUnitsFourth).toFixed(3)}return n.findStudentLevel(e,n.backupMarks,4,"صباحي")}return 0},findTotalDegree:function(e,t,n,r){return(.1*e+.2*t+.3*n+.4*r).toFixed(3)}},filters:{phaseRole:function(e){return 1==e?"الدور الاول":2==e?"الدور الثاني":void 0},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString("ar-IQ")},convertDateEN:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")},genderCheck:function(e){return"ذكر"==e?"ناجح":"ناجحة"}}}),Me=$e,je=(n("9bd7"),n("490a")),Re=Object(f["a"])(Me,Ae,Ce,!1,null,"88252db2",null),Oe=Re.exports;v()(Re,{VAutocomplete:L["a"],VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCol:Y["a"],VProgressCircular:je["a"],VRow:A["a"],VSnackbar:z["a"],VStepper:H["a"],VStepperContent:J["a"],VStepperHeader:Z["a"],VStepperItems:Z["b"],VStepperStep:Q["a"]});var Ee=n("e8ae"),Ve={data:function(){return{fourthStudents:[],snackColor:"",snackbar:!1,message:"",multiLine:!0,firstStudents:[],secondStudents:[],thirdStudents:[],originalStudent:[],studyType:"",typeOfStudy:["صباحي","مسائي"],fifthStudents:[],loadingBar:!0,loadingBTN:!1,fourthStudentDegree:[],invalidSummerTraining:[],fourthLessons:[],backupMarks:[],foundAverage:null,showTable:!1,login:"",totalUnitsFirst:0,totalUnitsSecond:0,totalUnitsThird:0,totalUnitsFourth:0,user:""}},created:function(){var e=this,t=this;t.user=this.$store.state.user;var n=this.$store.state.apiUrl,r=this.$store.state.oldUrl,a="".concat(r,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4&").concat(this.$store.state.searchTerm,"&page=1&limit=1000"),s="".concat(n,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=1"),o="".concat(n,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=2"),i="".concat(n,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=3"),c="".concat(n,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=4"),l="".concat(r,"/averageMarks?sectionId=").concat(this.$store.state.user.perv,"&level=4"),d="".concat(r,"/sectionLessonsForDocument?sectionId=").concat(this.$store.state.user.perv,"&level=4"),u="".concat(this.$store.state.apiUrl,"/summerTrainings/").concat(this.$store.state.user.perv),f="".concat(this.$store.state.apiUrl,"/averageBySection/").concat(this.$store.state.user.perv);function p(){return t.$http.get(a)}function v(){return t.$http.get(s)}function h(){return t.$http.get(o)}function g(){return t.$http.get(i)}function m(){return t.$http.get(l)}function S(){return t.$http.get(d)}function b(){return t.$http.get(c)}function y(){return t.$http.get(u)}function _(){return t.$http.get(f)}Promise.allSettled([p(),v(),h(),g(),m(),S(),b(),y(),_()]).then((function(e){var n=e[0],r=e[1],a=e[2],s=e[3],o=e[4],i=e[5],c=e[6],l=e[7],d=e[8];t.fourthStudents="fulfilled"==n.status?n.value.data:[],t.originalStudent="fulfilled"==n.status?n.value.data:[],t.firstStudents="fulfilled"==r.status?r.value.data:[],t.secondStudents="fulfilled"==a.status?a.value.data:[],t.thirdStudents="fulfilled"==s.status?s.value.data:[],t.fourthStudentDegree="fulfilled"==o.status?o.value.data:[],t.fourthLessons="fulfilled"==i.status?i.value.data:[],t.backupMarks="fulfilled"==c.status?c.value.data:[],t.invalidSummerTraining="fulfilled"==l.status?l.value.data:[],t.foundAverage="fulfilled"!=d.status||!(d.value.data.length>0),t.loadingBar=!1,t.showTable=!0,console.log(t.fourthStudents)})).catch((function(e){console.log(e)})),this.$http.get("".concat(r,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=4")).then((function(t){e.totalUnitsFourth=t.data[0].total})).catch((function(e){console.log(e)}))},methods:{findStudentLevel:function(e,t,n,r){var a=0,s=0;t.filter((function(t){t.collageNumber!=e&&"0"+t.collageNumber!=e||t.level!=n||t.studyType!=r||(a+=t.mark*t.units,s+=t.units)}));return a>0?(100*a/100/s).toFixed(3):0},checkForClass:function(){var e,t=this;t.fourthStudents=t.originalStudent,console.log(t.studyType),e=t.fourthStudents.filter((function(e){return e.type==t.studyType})),console.log(e),e.length>0?t.fourthStudents=e:t.fourthStudents=t.originalStudent},getLastYearMarks:function(e,t){var n=e.find((function(e){return"custom"==e.markType})),r=e.find((function(e){return"custom2"==e.markType}));if(void 0!=n){var a=n.degree*n.credit;return a}if(void 0!=r){var s=r.degree*r.credit;return s}if(1==t){var o=e.find((function(e){return"final2"==e.markType}));if(void 0!=o){var i=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),c=i.reduce((function(e,t){return e+t.degree*t.credit}),0);return c}var l=e.reduce((function(e,t){return e+t.degree*t.credit}),0);return l}if(2==t){var d=e.find((function(e){return"final2"==e.markType}));if(void 0!=d){var u=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),f=u.reduce((function(e,t){return e+t.degree*t.credit}),0);return f}var p=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree*t.credit}),0);return v}},findAverageForFourthLevel:function(e,t){var n=this,r=t.filter((function(t){return t.college_number==e||"0"+t.college_number==e}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarks(t,n.$store.state.levelType);a.push(s)}}));if(a.length>0){var s=a.reduce((function(e,t){return e+t}),0);return(100*s/100/n.totalUnitsFourth).toFixed(3)}return console.log(r),n.findStudentLevel(e,n.backupMarks,4,"صباحي")}return n.backupMarks.find((function(t){return t.collageNumber==e}))?n.findStudentLevel(e,n.backupMarks,4,"صباحي"):0},checkForSummerTraining:function(e,t){var n=e.filter((function(e){return e.collageNumber==t}));return n.length>0},saveAllAverages:function(){var e=this;e.loadingBTN=!0;var t=e.fourthStudents.map((function(t){if(e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findAverageForFourthLevel(t.college_number,e.fourthStudentDegree))>50&&!e.checkForSummerTraining(e.invalidSummerTraining,t.college_number))return{average:e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findAverageForFourthLevel(t.college_number,e.fourthStudentDegree)),collegeNumber:t.college_number,sectionId:e.$store.state.user.perv,studyType:"صباحي"==t.type?1:2}}));e.$http.post("".concat(e.$store.state.apiUrl,"/addMultiAverages"),t.filter((function(e){return void 0!=e}))).then((function(t){console.log(t),e.loadingBTN=!1,e.message="تم خزن البيانات",e.snackColor="green",e.snackbar=!0})).catch((function(t){console.log(t),e.loadingBTN=!1,e.message="حدث خطأ تأكد من الاتصال",e.snackColor="error",e.snackbar=!0}))},findTotalDegree:function(e,t,n,r){return(.1*e+.2*t+.3*n+.4*r).toFixed(3)},findStudentName:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].studentName):" لايوجد"},createExcelFile:function(){var e=this;return Object(ue["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=new Ee.Workbook,a=r.addWorksheet("My Sheet"),a.views=[{rightToLeft:!0}],30==e.$store.state.user.perv?a.columns=[{header:"Id",key:"id",width:10},{header:"اسم الطالب",key:"name",width:55},{header:"الرقم الاحصائي",key:"collageNumber",width:55},{header:"المرحلة الاولى",key:"levelOne",width:55},{header:"المرحلة الثانية\t",key:"levelTwo",width:55},{header:"المرحلة الثالثة",key:"levelThree",width:55},{header:"المرحلة الرابعة",key:"levelFour",width:55},{header:"المرحلة الخامسة",key:"levelFive",width:55},{header:"\tالمعدل التراكمي",key:"average",width:55}]:a.columns=[{header:"Id",key:"id",width:10},{header:"اسم الطالب",key:"name",width:55},{header:"الرقم الاحصائي",key:"collageNumber",width:55},{header:"المرحلة الاولى",key:"levelOne",width:55},{header:"المرحلة الثانية\t",key:"levelTwo",width:55},{header:"المرحلة الثالثة",key:"levelThree",width:55},{header:"المرحلة الرابعة",key:"levelFour",width:55},{header:"\tالمعدل التراكمي",key:"average",width:55}],e.fourthStudents.forEach((function(e){a.addRow({id:e.id,name:e.name,collageNumber:e.college_number,levelOne:n.findStudentLevel(e.college_number,n.firstStudents,1,e.type),levelTwo:n.findStudentLevel(e.college_number,n.secondStudents,2,e.type),levelThree:n.findStudentLevel(e.college_number,n.thirdStudents,3,e.type),levelFour:n.findAverageForFourthLevel(e.college_number,n.fourthStudentDegree),average:n.findTotalDegree(n.findStudentLevel(e.college_number,n.firstStudents,1,e.type),n.findStudentLevel(e.college_number,n.secondStudents,2,e.type),n.findStudentLevel(e.college_number,n.thirdStudents,3,e.type),n.findAverageForFourthLevel(e.college_number,n.fourthStudentDegree))})})),a.getColumn(1).hidden=!0,a.eachRow((function(e,t){e.eachCell((function(e){e.alignment={vertical:"middle",horizontal:"center"},"غ"==e.value&&(e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFF0000"},bgColor:{argb:"FF0000FF"}})}))})),a.getRow(1).eachCell((function(e){e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}}})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download="studentAverage.xlsx",r.click(),window.URL.revokeObjectURL(n),r.remove()}));case 10:case"end":return t.stop()}}),t)})))()}}},Ue=Ve,We=(n("52c8"),Object(f["a"])(Ue,Ye,Fe,!1,null,"277403c4",null)),Be=We.exports;v()(We,{VBtn:V["a"],VCol:Y["a"],VProgressCircular:je["a"],VRow:A["a"],VSelect:q["a"],VSnackbar:z["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),e._m(0),n("div",[n("v-row",[n("v-col",{attrs:{cols:"2"}}),n("v-col",{attrs:{cols:"3"}},[e.loadingBTN?n("v-progress-circular",{attrs:{active:e.loadingBTN,size:40,width:5,indeterminate:e.loadingBTN,color:"teal"}}):e._e(),e.loadingBTN?e._e():n("v-btn",{attrs:{color:"success",disabled:!e.foundAverage},on:{click:e.saveAllAverages}},[e._v(" حفظ المعدلات ")])],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{color:"success"},on:{click:e.createExcelFile}},[e._v(" تصدير Excel ")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.typeOfStudy,label:"الدراسة",dense:"",outlined:""},on:{change:e.checkForClass},model:{value:e.studyType,callback:function(t){e.studyType=t},expression:"studyType"}})],1),n("v-col",{attrs:{cols:"1"}})],1)],1),n("v-row",[n("v-col",{staticStyle:{"text-align":"center"},attrs:{"align-self":"center"}},[e.loadingBar?n("v-progress-circular",{attrs:{active:e.loadingBar,size:70,width:7,indeterminate:e.loadingBar,color:"teal"}}):e._e()],1)],1),e.loadingBar?e._e():n("table",{staticStyle:{margin:"10px auto"},attrs:{border:"1"}},[e._m(1),e._l(e.fourthStudents,(function(t,r){return e.showTable?n("tr",{key:r},[n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(r+1))])]),n("td",[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.name))]),n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.college_number))])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.secondStudents,2,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findStudentLevel(t.college_number,e.fourthStudentDegree,4,t.type))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findAverageForFourthLevel(t.college_number,e.fifthStudents))+" ")])]),n("td",[n("p",{staticStyle:{"text-align":"center",margin:"3px 10px"}},[e._v(" "+e._s(e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findStudentLevel(t.college_number,e.fourthStudentDegree,4,t.type),e.findAverageForFourthLevel(t.college_number,e.fifthStudents)))+" ")])])]):e._e()}))],2)],1)},qe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("المعدلات")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("التسلسل")]),n("th",[e._v("اسم الطالب")]),n("th",[e._v("المرحلة الاولى")]),n("th",[e._v("المرحلة الثانية")]),n("th",[e._v("المرحلة الثالثة")]),n("th",[e._v("المرحلة الرابعة")]),n("th",[e._v("المرحلة الخامسة")]),n("th",[e._v("المعدل التراكمي")])])}],ze=n("e8ae"),Ge={data:function(){return{fourthStudents:[],firstStudents:[],secondStudents:[],thirdStudents:[],fifthStudents:[],fourthStudentDegree:[],originalStudent:[],fourthLessons:[],studyType:"",typeOfStudy:["صباحي","مسائي"],showTable:!1,message:"",snackColor:"",multiLine:!0,snackbar:!1,loadingBTN:!1,foundAverage:null,login:"",loadingBar:!0,totalUnitsFirst:0,totalUnitsSecond:0,totalUnitsThird:0,totalUnitsFourth:0,totalUnitsFifth:0,user:""}},created:function(){var e=this,t=this;t.user=t.$store.state.user;var n=t.$store.state.apiUrl,r=t.$store.state.oldUrl,a="".concat(r,"/studentInfo?sectionId=").concat(t.$store.state.user.perv,"&level=5&").concat(t.$store.state.searchTerm,"&page=1&limit=1000"),s="".concat(n,"/sectionDegree?sectionId=").concat(t.$store.state.user.perv,"&level=1"),o="".concat(n,"/sectionDegree?sectionId=").concat(t.$store.state.user.perv,"&level=2"),i="".concat(n,"/sectionDegree?sectionId=").concat(t.$store.state.user.perv,"&level=3"),c="".concat(n,"/sectionDegree?sectionId=").concat(t.$store.state.user.perv,"&level=4"),l="".concat(r,"/averageMarks?sectionId=").concat(t.$store.state.user.perv,"&level=5"),d="".concat(r,"/sectionLessonsForDocument?sectionId=").concat(t.$store.state.user.perv,"&level=5"),u="".concat(this.$store.state.apiUrl,"/averageBySection/").concat(this.$store.state.user.perv);function f(){return t.$http.get(a)}function p(){return t.$http.get(s)}function v(){return t.$http.get(o)}function h(){return t.$http.get(i)}function g(){return t.$http.get(c)}function m(){return t.$http.get(l)}function S(){return t.$http.get(d)}function b(){return t.$http.get(u)}Promise.allSettled([f(),p(),v(),h(),g(),m(),S(),b()]).then((function(e){var n=e[0],r=e[1],a=e[2],s=e[3],o=e[4],i=e[5],c=e[6],l=e[7];t.fourthStudents="fulfilled"==n.status?n.value.data:[],t.firstStudents="fulfilled"==r.status?r.value.data:[],t.secondStudents="fulfilled"==a.status?a.value.data:[],t.thirdStudents="fulfilled"==s.status?s.value.data:[],t.fourthStudentDegree="fulfilled"==o.status?o.value.data:[],t.fifthStudents="fulfilled"==i.status?i.value.data:[],t.originalStudent="fulfilled"==i.status?i.value.data:[],t.fourthLessons="fulfilled"==c.status?c.value.data:[],t.foundAverage="fulfilled"!=l.status||!(l.value.data.length>0),t.loadingBar=!1,t.showTable=!0})).catch((function(e){console.log(e)})),this.$http.get("".concat(n,"/totalLessonsUnits?sectionId=").concat(this.$store.state.user.perv,'&level=3&studyType="صباحي"')).then((function(t){console.log(t.data),e.totalUnitsThird=t.data[0].total})),this.$http.get("".concat(n,"/totalLessonsUnits?sectionId=").concat(this.$store.state.user.perv,'&level=2&studyType="صباحي"')).then((function(t){e.totalUnitsSecond=t.data[0].total})),this.$http.get("".concat(n,"/totalLessonsUnits?sectionId=").concat(this.$store.state.user.perv,'&level=1&studyType="صباحي"')).then((function(t){e.totalUnitsFirst=t.data[0].total})),this.$http.get("".concat(n,"/totalLessonsUnits?sectionId=").concat(this.$store.state.user.perv,'&level=4&studyType="صباحي"')).then((function(t){e.totalUnitsFourth=t.data[0].total})),this.$http.get("".concat(r,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=5")).then((function(t){e.totalUnitsFifth=t.data[0].total}))},methods:{findStudentLevel:function(e,t,n,r){var a=0,s=0;t.filter((function(t){t.collageNumber!=e&&"0"+t.collageNumber!=e||t.level!=n||t.studyType!=r||(a+=t.mark*t.units,s+=t.units)}));return a>0?(100*a/100/s).toFixed(3):0},saveAllAverages:function(){var e=this;e.loadingBTN=!0;var t=e.fourthStudents.map((function(t){if(e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findStudentLevel(t.college_number,e.fourthStudentDegree,4,t.type),e.findAverageForFourthLevel(t.college_number,e.fifthStudents))>50)return{average:e.findTotalDegree(e.findStudentLevel(t.college_number,e.firstStudents,1,t.type),e.findStudentLevel(t.college_number,e.secondStudents,2,t.type),e.findStudentLevel(t.college_number,e.thirdStudents,3,t.type),e.findStudentLevel(t.college_number,e.fourthStudentDegree,4,t.type),e.findAverageForFourthLevel(t.college_number,e.fifthStudents)),collegeNumber:t.college_number,sectionId:e.$store.state.user.perv,studyType:"صباحي"==t.type?1:2}}));console.log(t.filter((function(e){return void 0!=e}))),e.$http.post("".concat(e.$store.state.apiUrl,"/addMultiAverages"),t.filter((function(e){return void 0!=e}))).then((function(t){console.log(t),e.loadingBTN=!1,e.message="تم خزن البيانات",e.snackColor="green",e.snackbar=!0})).catch((function(t){console.log(t),e.loadingBTN=!1,e.message="حدث خطأ تأكد من الاتصال",e.snackColor="error",e.snackbar=!0}))},checkForClass:function(){var e,t=this;t.fourthStudents=t.originalStudent,console.log(t.studyType),e=t.fourthStudents.filter((function(e){return e.type==t.studyType})),console.log(e),e.length>0?t.fourthStudents=e:t.fourthStudents=t.originalStudent},getLastYearMarks:function(e,t){var n=e.find((function(e){return"custom"==e.markType})),r=e.find((function(e){return"custom2"==e.markType}));if(void 0!=n){var a=n.degree*n.credit;return a}if(void 0!=r){var s=r.degree*r.credit;return s}if(1==t){var o=e.find((function(e){return"final2"==e.markType}));if(void 0!=o){var i=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),c=i.reduce((function(e,t){return e+t.degree*t.credit}),0);return c}var l=e.reduce((function(e,t){return e+t.degree*t.credit}),0);return l}if(2==t){var d=e.find((function(e){return"final2"==e.markType}));if(void 0!=d){var u=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),f=u.reduce((function(e,t){return e+t.degree*t.credit}),0);return f}var p=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree*t.credit}),0);return v}},findAverageForFourthLevel:function(e,t){var n=this,r=t.filter((function(t){return t.college_number==e||"0"+t.college_number==e}));if(!(r.length>0))return 0;var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarks(t,n.$store.state.levelType);a.push(s)}}));if(a.length>0){var s=a.reduce((function(e,t){return e+t}),0);return(100*s/100/n.totalUnitsFifth).toFixed(3)}},findTotalDegree:function(e,t,n,r,a){return(.05*e+.1*t+.15*n+.3*r+.4*a).toFixed(3)},findStudentName:function(e,t){var n=t.filter((function(t){if(t.collageNumber==e||"0"+t.collageNumber==e)return t}));return n.length>0?"".concat(n[0].studentName):" لايوجد"},createExcelFile:function(){var e=this;return Object(ue["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=new ze.Workbook,a=r.addWorksheet("My Sheet"),a.views=[{rightToLeft:!0}],a.columns=[{header:"Id",key:"id",width:10},{header:"اسم الطالب",key:"name",width:55},{header:"الرقم الاحصائي",key:"collageNumber",width:55},{header:"المرحلة الاولى",key:"levelOne",width:55},{header:"المرحلة الثانية\t",key:"levelTwo",width:55},{header:"المرحلة الثالثة",key:"levelThree",width:55},{header:"المرحلة الرابعة",key:"levelFour",width:55},{header:"المرحلة الخامسة",key:"levelFive",width:55},{header:"\tالمعدل التراكمي",key:"average",width:55}],e.fourthStudents.forEach((function(e){a.addRow({id:e.id,name:e.name,collageNumber:e.college_number,levelOne:n.findStudentLevel(e.college_number,n.firstStudents,1,e.type),levelTwo:n.findStudentLevel(e.college_number,n.secondStudents,2,e.type),levelThree:n.findStudentLevel(e.college_number,n.thirdStudents,3,e.type),levelFour:n.findStudentLevel(e.college_number,n.fourthStudentDegree,1,e.type),levelFive:n.findAverageForFourthLevel(e.college_number,n.fifthStudents),average:n.findTotalDegree(n.findStudentLevel(e.college_number,n.firstStudents,1,e.type),n.findStudentLevel(e.college_number,n.secondStudents,2,e.type),n.findStudentLevel(e.college_number,n.thirdStudents,3,e.type),n.findStudentLevel(e.college_number,n.fourthStudentDegree,4,e.type),n.findAverageForFourthLevel(e.college_number,n.fifthStudents))})})),a.getColumn(1).hidden=!0,a.eachRow((function(e,t){e.eachCell((function(e){e.alignment={vertical:"middle",horizontal:"center"},"غ"==e.value&&(e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFF0000"},bgColor:{argb:"FF0000FF"}})}))})),a.getRow(1).eachCell((function(e){e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFFFFF00"},bgColor:{argb:"FF0000FF"}}})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download="studentAverage.xlsx",r.click(),window.URL.revokeObjectURL(n),r.remove()}));case 10:case"end":return t.stop()}}),t)})))()}}},He=Ge,Je=(n("dd12"),Object(f["a"])(He,Pe,qe,!1,null,"b956ab40",null)),Ze=Je.exports;v()(Je,{VBtn:V["a"],VCol:Y["a"],VProgressCircular:je["a"],VRow:A["a"],VSelect:q["a"],VSnackbar:z["a"]});var Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.keyComponent},[n("div",[e._m(0),n("div",{staticClass:"info-section"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" نوع الدراسة : ")]),n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" "+e._s(e.masterDetails.studyType)+" ")])]),n("v-col",{attrs:{cols:"3"}},[n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" نظام الدراسة : ")]),n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" "+e._s(e.masterDetails.typeName)+" ")])]),n("v-col",{attrs:{cols:"3"}},[n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" السنة : ")]),n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" "+e._s(e.masterDetails.year)+" ")])]),n("v-col",{attrs:{cols:"3"}},[n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" المرحلة : ")]),n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" "+e._s(e._f("levelName")(e.masterDetails.level))+" ")])])],1)],1),n("div",[n("v-row",[n("v-col",{staticStyle:{padding:"10px","text-align":"center"},attrs:{cols:"6"}},[n("p",{staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e._v(" الشعب التي تم رفعها : ")]),e._l(e.masterDetails.classes,(function(t){return n("p",{key:t.idMasterClass,staticStyle:{"margin-bottom":"0px",display:"inline-block",padding:"5px"}},[e.masterDetails.classes.length>0?n("span",{staticStyle:{padding:"10px"}},[e._v(e._s(t.className))]):e._e()])}))],2),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[e.hasALessons?n("div",{staticClass:"mx-2",staticStyle:{display:"inline-block"}},[e._v(" المواد مرفوعه مسبقا ")]):n("div",{staticClass:"mx-2",staticStyle:{display:"inline-block"}},[n("v-btn",{staticClass:"text-none",attrs:{color:"primary",depressed:"",loading:e.isSelecting},on:{click:function(t){return e.onButtonClick(e.masterDetails)}}},[e._v(" رفع مواد الشيت ")]),n("input",{ref:"uploader",staticClass:"d-none",attrs:{type:"file"},on:{change:e.onFileChanged}})],1)])],1)],1),n("div",[n("v-row",[n("v-col",{staticStyle:{padding:"10px","text-align":"center"},attrs:{cols:"2"}},[n("v-select",{attrs:{items:e.className,label:"الشعبة",dense:"",outlined:""},on:{change:e.checkForClass},model:{value:e.masterClassName,callback:function(t){e.masterClassName=t},expression:"masterClassName"}})],1),n("v-col",{staticStyle:{padding:"10px","text-align":"center"},attrs:{cols:"2"}},[n("v-file-input",{attrs:{label:"ادخال درجات الطلبة",outlined:"",dense:"",color:"success"},on:{change:e.checkForFail,"click:clear":e.clear}})],1),n("v-col",{staticStyle:{padding:"15px","text-align":"right"},attrs:{cols:"8"}},[n("v-btn",{attrs:{color:"success",loading:e.storeLoading},on:{click:e.saveMarks}},[e._v(" حفظ ")])],1)],1)],1),n("div",[n("v-row",[2!=e.$store.state.masterDetails.masterTypeId?n("v-col",[n("v-card",[n("v-card-title",[e._v(" اختر المواد للكورس الاول "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"fa-search",label:"بحث","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,indeterminate:"true",search:e.search,items:e.allLessons,"item-key":"idLesson","show-select":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),n("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.addSummer}},[e._v(" حفظ ")])],1)],1):e._e()],1)],1),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:e.addSingleStudent,callback:function(t){e.addSingleStudent=t},expression:"addSingleStudent"}},[n("v-card",[n("v-card-title",{staticStyle:{"text-algin":"center"}},[e._v("اضافة طالب يدويا")]),n("v-divider"),n("v-card-text",{staticStyle:{height:"300px"}},[n("h4"),n("v-divider"),e._l(e.allLessons,(function(t,r){return n("div",{key:r},[n("span",[e._v(e._s(t.lessonName))]),n("v-text-field",{attrs:{label:"الدرجة",outlined:"",dense:""},on:{change:e.setValue}}),n("v-text-field",{attrs:{label:"الدرجة كتابة",outlined:"",dense:""},on:{change:e.setValueWriting}})],1)}))],2),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.addNewSingleStudent()}}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.addSingleStudent=!1}}},[e._v(" الغاء ")])],1)],1)],1),n("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:e.dialogTwo,callback:function(t){e.dialogTwo=t},expression:"dialogTwo"}},[n("v-card",[n("v-card-title",[e._v("الكورس الاول")]),n("v-divider"),n("v-card-text",{staticStyle:{height:"300px"}},[n("v-divider"),n("p",[e._v("مجموع مواد الكورس الاول هو : "+e._s(e.selected.length))]),n("ul",e._l(e.selected,(function(t,r){return n("li",{key:r,staticStyle:{"list-style":"none"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"1"}},[e._v(" "+e._s(r+1)+" -")]),n("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(t.lessonName)+" ")]),n("v-col",{staticStyle:{"font-weight":"bold",color:"blue"},attrs:{cols:"4"}},[e._v(" "+e._s(t.units)+" ")])],1)],1)})),0)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveTheResult}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialogTwo=!1}}},[e._v(" الغاء ")])],1)],1)],1),n("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v("الطلبة الراسبين")]),n("v-divider"),n("v-card-text",{staticStyle:{height:"300px"}},[n("h4",[e._v(" ملاحظة : يوجد عدد من الطلبة الراسبين في الشيت المعتمد يرجى التأكد من حالة نجاح بعضهم بسبب نظام العبور في السنة اللاحقة مما يتطلب تعديل درجاتهم واعادة احتساب معدلاتهم التراكمية قبل اعتماد الشيت . ")]),n("v-divider"),n("p",[e._v("مجموع الطلبة الراسبين : "+e._s(e.failStudents.length)+" طالب")]),n("ul",e._l(e.failStudents,(function(t,r){return n("li",{key:r,staticStyle:{"list-style":"none"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"1"}},[e._v(" "+e._s(r+1)+" -")]),n("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(t.studentName)+" ")]),n("v-col",{staticStyle:{"font-weight":"bold",color:"red"},attrs:{cols:"4"}},[e._v(" "+e._s(t.fail)+" ")])],1)],1)})),0)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.handleUpload(e.sheet)}}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" الغاء ")])],1)],1)],1)],1)])},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("معلومات الماستر")])])}],Xe=n("e8ae"),et={data:function(){return{masterDetails:{},selectedFile:null,isSelecting:!1,masterClassName:"",dialogTwo:!1,className:["A","B","C","D","F","G","E","L","H","I","M","J","K","O","P","Q","R"],addSingleStudent:!1,apiUrl:"",search:"",storeLoading:!1,hasALessons:!1,failStudents:[],headers:[{text:"المادة",align:"start",sortable:!1,value:"lessonName"},{text:"الاسم بالانكليزي",value:"enName"},{text:"الوحدات",value:"units"}],snackbar:!1,materials:[],selected:[],keyComponent:0,allLessons:[],message:"",multiLine:!0,dialog2:!1,dialog:!1,snackbarSuccess:!1}},created:function(){this.hasALessons=this.$store.state.masterDetails.lessons,this.getMasterDetails()},methods:{getMasterDetails:function(){var e=this,t=this;this.masterDetails=this.$store.state.masterDetails,this.apiUrl=this.$store.state.apiUrl,this.$http.get("".concat(this.apiUrl,"/lessons/").concat(this.masterDetails.idMaster)).then((function(t){console.log(t.data),e.allLessons=t.data})).catch((function(e){console.log(e)})),this.$http.get("".concat(this.apiUrl,"/courseMaster/").concat(this.masterDetails.idMaster)).then((function(e){console.log(e.data),t.selected=e.data})).catch((function(e){404==e.response.status&&(t.selected=[])}))},clear:function(){console.log("clear")},onButtonClick:function(e){var t=this,n=this;n.$http.get("".concat(n.apiUrl,"/lessons/").concat(e.idMaster)).then((function(e){console.log(e.data),n.allLessons=e.data,t.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),t.$refs.uploader.click()})).catch((function(e){n.message="حدث خطأ في جلب البيانات",n.snackbar=!0,n.storeLoading=!1}))},addSummer:function(){var e=this;e.dialogTwo=!0},onFileChanged:function(e){this.selectedFile=e.target.files[0],this.getMaterial(this.selectedFile)},addNewSingleStudent:function(){var e=this,t=document.querySelectorAll(".".concat(e.allLessons[0].enName));console.log(t)},checkForSelectedLesson:function(e,t){var n=e.includes(t);return n},saveTheResult:function(){var e=this,t=e.allLessons.filter((function(t){if(!e.checkForSelectedLesson(e.selected,t))return t})),n={lessons:t,masterId:this.$store.state.masterDetails.idMaster,course:2},r={lessons:e.selected,masterId:this.$store.state.masterDetails.idMaster,course:1};e.$http.post("".concat(e.$store.state.apiUrl,"/addMultiCourseSplit"),r).then((function(t){e.$http.post("".concat(e.$store.state.apiUrl,"/addMultiCourseSplit"),n).then((function(t){console.log(t),e.dialogTwo=!1})).catch((function(e){}))})).catch((function(e){console.log(e)}))},checkForClass:function(){console.log(this.masterClassName)},checkForFail:function(e){var t=this,n=new Xe.Workbook,r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){var a=r.result;n.xlsx.load(a).then((function(n){var r=n.getWorksheet("Mini"),a=r.getRow(6).values,s=a.indexOf("النتيجة"),o=[];r.eachRow((function(e,t){var n={studentName:isNaN(e.getCell(2).result)?e.getCell(2).result:0,fail:"راسب"==r.getRow(t+1).getCell(s).value?r.getRow(t+1).getCell(s).value:""};null!=n.fail&&isNaN(n.fail)&&0!=n.studentName&&(console.log(n),o.push(n))})),t.failStudents=o,t.sheet=e,t.dialog=!0}))}},setValue:function(e){console.log(e)},setValueWriting:function(e){console.log(e)},handleUpload:function(e){var t=this;if(e){var n=new Xe.Workbook,r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){var e=r.result;n.xlsx.load(e).then((function(e){var n=e.getWorksheet("Mini"),r=n.getRow(6).values,a=[],s=[];r.forEach((function(e,t){isNaN(e.result)&&void 0!=e.result&&"التدريب الصيفي"!=e.result&&a.push({subjectName:e.result,index:t})}));var o=r.indexOf("المعدل العام");console.log(a),n.eachRow((function(e,t){var r=a.map((function(r){if((!isNaN(e.values[r.index])||"مؤجل"==e.values[r.index])&&(null!=e.getCell(o).value||null!=n.getRow(t+1).getCell(o).value))return{studentName:e.getCell(2).result,studentId:isNaN(e.getCell(2).result)?n.getRow(t+1).getCell(2).result:e.getCell(2).result,subject:r.subjectName,degree:(e.values[r.index]<50||"مؤجل"==e.values[r.index])&&"التدريب الصيفي"!=r.name?n.getRow(t+1).getCell(r.index).value:e.values[r.index],numberWriting:isNaN(e.values[r.index+1])&&e.values[r.index]>49?e.values[r.index+1]:n.getRow(t+1).getCell(r.index+1).value,rule:void 0!=n.getRow(t).getCell(r.index).fill.fgColor&&13==n.getRow(t).getCell(r.index).fill.fgColor.indexed||void 0!=n.getRow(t+1).getCell(r.index).fill.fgColor&&13==n.getRow(t+1).getCell(r.index).fill.fgColor.indexed?1:0,phase:(e.values[r.index]<50||"مؤجل"==e.values[r.index])&&n.getRow(t+1).getCell(r.index).value?2:1}}));s.push(r)}));var i=[];console.log(s);s.filter((function(e){e.includes(void 0)||(console.log(e),e.forEach((function(e){i.push(e)})))}));t.allStudentMarks=i,console.log(i),t.dialog=!1})).catch((function(e){console.log(e)}))}}},saveMarks:function(){var e=this;console.log(e.allLessons),e.storeLoading=!1,e.allStudentMarks.length>0&&e.$http.get("".concat(e.apiUrl,"/className?className=").concat(e.masterClassName,"&masterId=").concat(e.masterDetails.idMaster)).then((function(t){0==t.data.length?e.$http.post("".concat(e.apiUrl,"/addMasterClass"),{masterId:e.masterDetails.idMaster,className:e.masterClassName}).then((function(t){var n=e.allStudentMarks.map((function(t){return{collageNumber:t.studentId,mark:t.degree,numberWriting:t.numberWriting,lessonId:-1!=e.checkForLessonId(e.allLessons,t.subject)?e.checkForLessonId(e.allLessons,t.subject):void 0,phase:t.phase,rule:t.rule,studentName:t.studentName}})),r=[];while(n.length>0){var a=n.splice(0,30);r.push(a)}console.log(r),0==n.length&&(Promise.all(r.map((function(t){return e.$http.post("".concat(e.apiUrl,"/addMultiDegrees"),t)}))).then((function(t){console.log(t),e.storeLoading=!1,e.masterLevel=0,e.masterYear="",e.studyType="",e.masterTypeId=0,e.keyComponent+=1,e.masterClassName="",e.e1=1,e.message="تم تخزين البيانات",e.snackbarSuccess=!0})).catch((function(t){e.storeLoading=!1,e.message="حدث خطأ في تخزين البيانات",e.snackbar=!0})),console.log("end of array"))})):(e.message="هذا الشيت مرفوع مسبقا",e.snackbar=!0)}))},checkForLessonId:function(e,t){var n=e.filter((function(e){return e.lessonName==t}));return n.length>0?n[0].idLesson:-1},getMaterial:function(e){var t=this,n=this,r=new Xe.Workbook,a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){var e=a.result;r.xlsx.load(e).then((function(e){var r=e.getWorksheet("MaterialsAndWeights"),a=r.getRow(7).values,s=a.indexOf("المادة"),o=a.indexOf("عدد الوحدات"),i=a.indexOf("Subject in English");console.log(s),console.log(o),console.log(i),r.eachRow((function(e,t){var r={arName:e.values[s],units:e.values[o],enName:e.values[i]};isNaN(r.units)||void 0==r.enName||n.materials.push(r)})),console.log(n.materials),t.addMaterial()}))}},addMaterial:function(){var e=this;if(console.log(e.materials),e.storeLoading=!0,e.materials.length>0&&e.masterDetails.idMaster>0){var t={lessons:e.materials,masterId:e.masterDetails.idMaster};e.$http.post("".concat(e.apiUrl,"/addMultiLessons"),t).then((function(t){console.log(t.data),e.$http.get("".concat(e.apiUrl,"/lessons/").concat(e.masterDetails.idMaster)).then((function(t){console.log(t.data),console.log(e.masterDetails),e.$store.dispatch("getMasterDetailsById",e.masterDetails).then((function(){e.materials=[],e.message="تم تخزين البيانات",e.snackbarSuccess=!0,e.hasALessons=!0,e.keyComponent+=1,e.allLessons=t.data,e.storeLoading=!1}))})).catch((function(t){e.storeLoading=!1,e.message="حدث خطأ في تخزين البيانات",e.snackbar=!0}))})).catch((function(t){e.storeLoading=!1,e.message="حدث خطأ في تخزين البيانات",e.snackbar=!0}))}else e.message="الرجاء اختيار الشيت",e.snackbar=!0}},filters:{levelName:function(e){return 1==e?"المرحلة الاولى":2==e?"المرحلة الثانية":3==e?"المرحلة الثالثة":4==e?"المرحلة الرابعة":"المرحلة الخامسة"},course:function(e){return 1==e?"الكورس الاول":2==e?"الكورس الثاني":void 0}}},tt=et,nt=(n("aaee"),n("8fea")),rt=n("23a7"),at=Object(f["a"])(tt,Qe,Ke,!1,null,"51b5724c",null),st=at.exports;v()(at,{VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:Y["a"],VDataTable:nt["a"],VDialog:B["a"],VDivider:m["a"],VFileInput:rt["a"],VRow:A["a"],VSelect:q["a"],VSnackbar:z["a"],VSpacer:G["a"],VTextField:K["a"]});var ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.keyComponent,staticClass:"about",attrs:{lang:"ar"}},[n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"accent"}},[n("h3",{staticStyle:{color:"#fff","text-align":"center"}},[e._v("نوع التأييد")])]),n("v-card-text",[n("v-row",{staticStyle:{margin:"10px"}},[n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.withAverage}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" بالدرجات عربي ")],1)],1),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.notHave}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" بالدرجات انكليزي ")],1)],1)],1),n("v-row",{staticStyle:{margin:"10px"}},[n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.withoutAverage}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" بدون درجات عربي ")],1)],1),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.notHave}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" بدون درجات انكليزي ")],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("اغلاق")])],1)],1)]}}]),model:{value:e.dialog3,callback:function(t){e.dialog3=t},expression:"dialog3"}}),e._m(0),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("div",{staticClass:"sheet-wrapper"},[n("v-stepper",{attrs:{vertical:""},on:{change:e.stepperChange},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{color:"accent",complete:e.e1>1,step:"1"}},[e._v(" اختر القسم ")])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.allSections,"item-text":"name","item-value":"id",outlined:"",dense:"",label:"القسم"},model:{value:e.chosenSection,callback:function(t){e.chosenSection=t},expression:"chosenSection"}})],1)],1),n("v-btn",{attrs:{color:"accent",loading:e.storeLoading},on:{click:e.searchForStudent}},[e._v(" بحث ")])],1)],1)],1)],1),e._m(1),n("div",{staticStyle:{"text-align":"center"}},[n("v-row",[n("v-col",{staticStyle:{"margin-right":"50px"},attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.sections,"item-text":"studentName","item-value":"studentName",outlined:"",dense:"",label:"اسم الطالب"},on:{"click:clear":e.clearStudents,change:e.findStudent},model:{value:e.foundStudent,callback:function(t){e.foundStudent=t},expression:"foundStudent"}})],1)],1)],1),e._l(e.filteredStudent,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"masters-section"},[n("div",{staticClass:"master-card"},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"1"}},[e._v(e._s(r+1))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.studentName))]),n("v-col",{attrs:{cols:"1"}},[e._v("الدور الاول")]),n("v-col",{attrs:{cols:"2"}},[e._v(" نوع الدراسة : "+e._s(t.studyType))]),n("v-col",{attrs:{cols:"1"}},[e._v(" المعدل : "+e._s(t.average))]),n("v-col",{attrs:{cols:"1"}},[e._v("التقدير : "+e._s(t.averageWrite))]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"1"}},[e._v("الجنس : "+e._s(t.gender))]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"2"}},[e._v("الدراسة : "+e._s(e._f("studyType")(t.sequenceType)))]),n("v-col",{staticStyle:{"text-align":"left"},attrs:{cols:"1"}},[n("v-btn",{staticClass:"mx-2",attrs:{loading:e.exportLoading,fab:"",dark:"",small:"",depressed:"",color:"accent"},on:{click:function(n){return e.openDialog(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-file-word ")])],1)],1)],1)],1)])])}))],2)},it=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("توليد التأييدات")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("التأييدات")])])}],ct=n("fbf9"),lt=n.n(ct),dt=n("547c"),ut=n.n(dt),ft=n("21a6"),pt=window.require("path"),vt=window.require("fs"),ht={data:function(){return{chosenSection:"",show:!1,storeLoading:!1,exportLoading:!1,snackbarSuccess:!1,snackbar:!1,multiLine:!0,imagePath:"",keyComponent:0,message:"",student:{},allSections:[],dialog3:!1,sections:[],foundStudent:"",fourthClass:0,filteredStudent:[],lessonTotal:0,e1:1,phaseData:{}}},created:function(){this.getStudentInfo()},methods:{stepperChange:function(){console.log("stepper")},setPhaseAndDate:function(e){return 1==e?{phaseText:"الدور الاول",date:this.phaseData.phaseOne}:{phaseText:"الدور الثاني",date:this.phaseData.phaseTwo}},withoutAverage:function(){var e=this,t=this.allSections.filter((function(t){return t.id==e.chosenSection}));vt.readFile(pt.join(__static,"withoutAverage.docx"),"binary",(function(n,r){if(n)throw n;var a=new ut.a(r),s=new lt.a(a);s.setData({studentName:e.student.studentName,sectionName:t[0].registerName,photo:e.checkGender("صورته",e.student.gender),grad:e.checkGender("تخرج",e.student.gender),having:e.checkGender("حصل",e.student.gender),phase:e.setPhaseAndDate(e.student.phase).phaseText,date:e.setPhaseAndDate(e.student.phase).date,studyType:e.checkStudy(e.student.studyType)});try{s.render()}catch(n){function o(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:n},o)),n.properties&&n.properties.errors instanceof Array){var i=n.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",i)}throw n}var c=s.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(c,"".concat(e.student.studentName,".docx"))}))},withAverage:function(){var e=this,t=this.allSections.filter((function(t){return t.id==e.chosenSection}));vt.readFile(pt.join(__static,"withAverage.docx"),"binary",(function(n,r){if(n)throw n;var a=new ut.a(r),s=new lt.a(a);s.setData({studentName:e.student.studentName,sectionName:t[0].registerName,phase:e.setPhaseAndDate(e.student.phase).phaseText,date:e.setPhaseAndDate(e.student.phase).date,studyType:e.checkStudy(e.student.studyType),average:e.toIndiaDigits(e.student.average),write:e.student.averageWrite,seq:e.student.sequence,total:e.student.totalStudent,type:e.checkStudy(e.student.studyType)});try{s.render()}catch(n){function o(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:n},o)),n.properties&&n.properties.errors instanceof Array){var i=n.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",i)}throw n}var c=s.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(c,"".concat(e.student.studentName,".docx"))}))},openDialog:function(e){this.dialog3=!0,this.student=e},getStudentInfo:function(){var e=this,t=this.$store.state.oldUrl,n=localStorage.getItem("phaseDate");this.phaseData=JSON.parse(n),this.$http.get("".concat(t,"/sections")).then((function(t){e.allSections=t.data})).catch((function(e){console.log(e)}))},clearStudents:function(){var e=this;e.filteredStudent=e.sections,console.log(e.filteredStudent),e.keyComponent+=1},findStudent:function(){var e=this;e.filteredStudent=e.sections;var t=e.filteredStudent.filter((function(t){return t.studentName==e.foundStudent}));e.filteredStudent=t,e.keyComponent+=1},checkGender:function(e,t){return"ذكر"==t?e:"صورته"==e?"صورتها":"تخرج"==e?"تخرجت":"حصل"==e?"حصلت":void 0},checkStudy:function(e){return"صباحي"==e?"الصباحية":"المسائية"},searchForStudent:function(){var e=this;e.storeLoading=!0;var t=this.$store.state.apiUrl;this.$store.state.oldUrl;this.$http.get("".concat(t,"/registerDocument/").concat(e.chosenSection)).then((function(t){e.sections=t.data,e.filteredStudent=e.sections,e.storeLoading=!1})).catch((function(t){404==t.response.status&&(e.message="لا يوجد طلبة في هذا القسم",e.snackbar=!0,e.storeLoading=!1)}))},notHave:function(){this.message="الرجاء تزويد قسم تكنولوجيا المعلومات بالقالب ",this.snackbar=!0},toIndiaDigits:function(e){var t=["۰","۱","۲","۳","٤","٥","٦","۷","۸","۹"],n=e.toString(),r=n.replace(/[0-9]/g,(function(e){return t[+e]}));return r.replace(".",",")},setSequence:function(e,t,n){var r=this;return 2==e?"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n),' خريجاً <span style="font-weight : bold">للدورين الاول والثاني وللدراستين الصباحية والمسائية</span>'):"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n),' خريجاً <span style="font-weight : bold">للدورين الاول والثاني</span>')},goToDocument:function(e){var t=this,n=t.allSections.find((function(t){return t.id==e.sectionId}));e.sectionName=n.registerName,console.log(e),t.$store.dispatch("setStudentForPrint",e).then((function(){t.$router.push("/document-info")}))},printDocument:function(e){var t=this,n=pt.join(__static,"1.png"),r=t.allSections.find((function(t){return t.id==e.sectionId})),a="<html  xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>"+"<head><meta charset='utf-8'><title>Word Document</title></head><body style=\"background:url(".concat(n,');background-size : cover;width : 2480px ; height : 3508px">'),s="</body></html>",o='<div>\n                            <div style="text-align:right">\n                                <p>العدد</p>\n                                <p>التاريخ :  &emsp; / &emsp;  / ٢٠٢٠</p>\n                            </div>\n\n                            <div style="text-align:center">\n                                <h2>&emsp; / الى </h2>\n                                <h2>م / تأييد تخرج</h2>\n                            </div>\n\n                            <div style="direction:rtl">\n                                <p style="font-size:24px;text-align:right;line-height: 2;word-spacing: 5px;direction:rtl">\n                                    نؤيد لكم بأن <span style="font-weight:bold">'.concat(e.studentName,"</span>\n                                     الملصقة ").concat(t.checkGender("صورته",e.gender)," اعلاه قد \n                                     ").concat(t.checkGender("تخرج",e.gender),'\n                                      في كليتنا للعام الدراسي \n                                       <span style="font-weight:bold">٢٠٢٠/٢٠١٩</span>\n                                       في\n                                       <span style="font-weight:bold">').concat(t.setPhaseAndDate(e.phase).phaseText,'</span>\n                                        بتاريخ \n                                       <span style="font-weight:bold">').concat(t.setPhaseAndDate(e.phase).date,'</span>\n                                       للدراسة \n                                       <span style="font-weight:bold">').concat(t.checkStudy(e.studyType),"</span>\n                                       و\n                                      ").concat(t.checkGender("حصل",e.gender),' على شهادة بكالوريوس في <span style="font-weight:bold">').concat(r.name,'</span>  بمعدل \n                                      <span style="font-weight:bold">').concat(t.toIndiaDigits(e.average),'</span> بتقدير <span style="font-weight:bold"> ').concat(e.averageWrite," </span> \n                                      <span> ").concat(t.setSequence(e.sequenceType,e.sequence,e.totalStudent),' </span>\n                                      ، وبناءً على طلبه زود بهذا التأييد\n                                </p>\n                            </div>\n\n                            <div style="margin:100px 0px"></div>\n\n                            <div style="display: grid;grid-template-columns: auto auto;">\n                                \n                                <span style="text-align:center;">\n                                    <h4>أ.د. سعيد عبد الهادي المرهج</h4>\n                                    <h4>معاون العميد للشؤون العلمية</h4>\n                                </span>\n\n                                <span style="text-align:center;">\n                                    <h4>د. سيف محمد علي</h4>\n                                    <h4>مدير التسجيل و شؤون الطلبة</h4>\n                                </span>\n\n                            </div>\n\n                        </div>'),i=a+o+s,c="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(i),l=document.createElement("a");document.body.appendChild(l),l.href=c,l.download="".concat(e.studentName,".doc"),l.click(),document.body.removeChild(l)}},filters:{studyType:function(e){return 2==e?"للدراستين الصباحية والمسائية":1==e?"حسب دراسة الطالب":void 0}}},gt=ht,mt=(n("7189"),n("71d9")),St=Object(f["a"])(gt,ot,it,!1,null,"92f65204",null),bt=St.exports;v()(St,{VAutocomplete:L["a"],VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCol:Y["a"],VDialog:B["a"],VIcon:P["a"],VRow:A["a"],VSnackbar:z["a"],VStepper:H["a"],VStepperContent:J["a"],VStepperHeader:Z["a"],VStepperItems:Z["b"],VStepperStep:Q["a"],VToolbar:mt["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[e._m(0),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("div",{staticClass:"sheet-wrapper"},[n("v-stepper",{attrs:{vertical:""},on:{change:e.stepperChange},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{color:"accent",complete:e.e1>1,step:"1"}},[e._v(" بحث عن طالب ")])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.allStudents,"item-text":"name","item-value":"college_number",outlined:"",dense:"",label:"اسم الطالب"},model:{value:e.chosenStudent,callback:function(t){e.chosenStudent=t},expression:"chosenStudent"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.studyTypes,"item-text":"name","item-value":"value",outlined:"",dense:"",label:"التسلسل حسب..."},model:{value:e.chosenStudyType,callback:function(t){e.chosenStudyType=t},expression:"chosenStudyType"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.documentType,"item-text":"name","item-value":"value",outlined:"",dense:"",label:"نوع المستند..."},model:{value:e.chosenDocumentType,callback:function(t){e.chosenDocumentType=t},expression:"chosenDocumentType"}})],1)],1),n("v-btn",{attrs:{color:"accent",loading:e.storeLoading},on:{click:e.searchForStudent}},[e._v(" بحث ")])],1)],1)],1)],1),n("v-row",[n("v-col",{staticStyle:{"text-align":"center"}},[e.showLoadingStatus?n("v-progress-circular",{attrs:{active:e.showLoadingStatus,size:70,width:7,indeterminate:e.showLoadingStatus,color:"teal"}}):e._e()],1)],1),e.showConfirm?n("v-card",{staticStyle:{padding:"15px",margin:"45px"},attrs:{elevation:"3"}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("h3",[e._v("الاسم الكامل : "+e._s(e.findStudent.name))]),n("h3",[e._v(" محل وتاريخ الولادة : "+e._s(e.findStudent.resident)+" - "+e._s(e._f("convertDate")(e.findStudent.birthdate))+" ")]),n("h3",[e._v("الشهادة : بكالوريوس في "+e._s(e.$store.state.user.fullName))]),n("h3",[e._v("القسم : "+e._s(e.$store.state.user.fullName))]),n("h3",[e._v("سنة القبول : "+e._s(e.toIndiaDigits(e.findStudent.enter_year)))]),n("h3",[e._v(" ادناه المواد الدراسية والدرجات التي حصل عليها خلال سنوات الدراسة . ")])]),n("v-col",{staticStyle:{"padding-right":"45px"},attrs:{cols:"6"}},[n("h3",[e._v("الجنسية : عراقي")]),n("h3",[e._v(" المعدل : "+e._s(e.toIndiaDigits(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" % ")]),n("h3",[e._v(" التقدير : "+e._s(e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" ")]),n("h3",[e._v(" الدراسة : "+e._s("صباحي"==e.findStudent.type?"الصباحية":"المسائية")+" ")]),n("h3",[e._v(" التسلسل : "+e._s(e.toIndiaDigits(e.getAllAverage(e.findStudent.college_number,e.findStudent)+1))+" من مجموع "+e._s(e.toIndiaDigits(e.studentLength))+" خريجاً ")]),n("h3",[e._v(" علماً ان معدل الخريج الاول : "+e._s(e.toIndiaDigits(e.studentsAverage[0].average))+" % ")])])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.firstYearMarks,1,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.firstClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.firstClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.firstClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.secondYearMarks,2,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.secondClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.secondClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.secondClass)))+" ")])])],2)])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.thirdYearMarks,3,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.thirdClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الرابعة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.toIndiaDigits(e.studentLessonMarks(e.findStudent.college_number,e.fourthClass,4,e.findStudent.type)[0].year))+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.fourthClass,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(e.toIndiaDigits(t.mark))+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(e.toIndiaDigits(t.units)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.thirdClass)?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTermsLevel(e.thirdClass)))+" ")])])],2)])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"90%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الخامسة")]),n("th",{attrs:{colspan:"3"}},[e._v(e._s(e.toIndiaDigits("2020 - 2019")))])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fifthStudentsDegrees),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[e._v(" "+e._s(e.toIndiaDigits(t.degree))+" ")]),n("td",[e._v(e._s(e.numberToWord(t.degree)))]),n("td",[e._v(e._s(e.toIndiaDigits(t.credit)))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("genderCheck")(e.findStudent.sex))+" "),e.checkRule(e.getLastYearLessonsMarks(e.findStudent.college_number,e.fifthStudentsDegrees))?n("span",[e._v(" بقرار ")]):e._e(),e._v(" من ")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fifthStudentsDegrees)))+" ")])])],2)])],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h5",[e._v(" التقديرات : مقبول ( ٥٠ - ٥٩ ) ، متوسط ( ٦٠ - ٦٩ ) ، جيد ( ٧٠ - ٧٩ ) ، جيد جداً ( ٨٠ - ٨٩ ) ، امتياز ( ٩٠ - ١٠٠ ) . ")]),n("h5",{staticStyle:{"text-decoration":"underline"}},[e._v("الملاحظات:")]),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ١- المدة الاصغرية المطلوبة لنيل شهادة البكالوريوس هي اربع سنوات . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٢- ترمز العلامة * لدرجة النجاح بالدور الثاني . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٣- سنوات الرسوب :"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.failYears,expression:"failYears"}],attrs:{type:"text",placeholder:"سنوات الرسوب"},domProps:{value:e.failYears},on:{input:function(t){t.target.composing||(e.failYears=t.target.value)}}})]),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" سنوات التأجيل : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.postponementYear,expression:"postponementYear"}],attrs:{type:"text",placeholder:"سنوات التأجيل"},domProps:{value:e.postponementYear},on:{input:function(t){t.target.composing||(e.postponementYear=t.target.value)}}})]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٤- "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.exception,expression:"exception"}],staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"نص استيفاء الطالب"},domProps:{value:e.exception},on:{input:function(t){t.target.composing||(e.exception=t.target.value)}}}),e._v(" . ")]),n("br"),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٥- "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.yearsDelay,expression:"yearsDelay"}],staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"سنوات عدم رسوب الطالب"},domProps:{value:e.yearsDelay},on:{input:function(t){t.target.composing||(e.yearsDelay=t.target.value)}}}),e._v(" . ")])])],1),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"info",loading:e.storeLoading},on:{click:e.storeStudentDocument}},[e._v(" ارسال للتسجيل ")])],1)],1)],1):e._e(),e.show?n("v-card",{staticStyle:{padding:"15px",margin:"45px"},attrs:{elevation:"3"}},[n("h3",[e._v("الطالب : "+e._s(e.findStudent.name))]),n("h3",[e._v(" المعدل : "+e._s(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number))+" ")]),n("h3",[e._v(" التقدير : "+e._s(e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)))+" ")]),n("h3",[e._v("الجنس : "+e._s(e.findStudent.sex))]),n("h3",[e._v("الدراسة : "+e._s(e.findStudent.type))]),n("h3",[e._v(" الدور : "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.fifthStudentsDegrees)))+" ")]),n("h3",[e._v(" التسلسل : "+e._s(e.getAllAverage(e.findStudent.college_number,e.findStudent)+1)+" من اصل "+e._s(e.studentLength)+" ")]),n("h3",[e._v(" التدريب الصيفي : "+e._s(e.checkTraining(e.findStudent.college_number,e.findStudent.type).summerStudent)+" ")]),n("v-card-actions",[n("v-btn",{staticStyle:{"margin-top":"20px"},attrs:{color:"red lighten-2",text:""},on:{click:e.saveForRegister}},[e._v(" ارسال للتسجيل ")])],1)],1):e._e()],1)},_t=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("انشاء الوثائق")])])}],kt={data:function(){return{chosenStudent:"",show:!1,storeLoading:!1,chosenDocumentType:"",studyTypes:[{name:"الكل",value:0},{name:"حسب دراسة الطالب",value:1}],documentType:[{name:"تأييد تخرج",value:1},{name:"وثيقة تخرج",value:2}],snackbarSuccess:!1,snackbar:!1,headOfDepartment:"",multiLine:!0,phase:1,levelOneCourse:[],levelTwoCourse:[],levelThirdCourse:[],showConfirm:!1,yearsDelay:"",message:"",fourthType:"",postponementYear:"",failYears:"",chosenStudyType:0,allStudents:[],studentLength:0,firstYearMarks:[],exception:"",secondYearMarks:[],thirdYearMarks:[],firstClass:[],fourthClass:[],studentsAverage:[],secondClass:[],thirdClass:[],showLoadingStatus:!1,backupMarks:[],sequenceType:0,summerTrainingStudents:[],findStudent:{},fifthStudentsDegrees:[],fourthLessons:[],totalUnitsFourth:0,lessonTotal:0,e1:1}},created:function(){this.getStudentInfo()},methods:{stepperChange:function(){console.log("stepper")},numberToWord:function(e){var t=["احدى","اثنتان","ثلاث","اربع","خمس","ست","سبع","ثمان","تسع","عشرة","عشرون","ثلاثون","اربعون","خمسون","ستون","سبعون","ثمانون","تسعون","مئة"];switch(e){case 10:return t[9];case 20:return t[10];case 30:return t[11];case 40:return t[12];case 50:return t[13];case 60:return t[14];case 70:return t[15];case 80:return t[16];case 90:return t[17];case 100:return t[18]}var n=[],r=e.toString().split("");switch(parseInt(r[1])){case 1:n.push(t[0]);break;case 2:n.push(t[1]);break;case 3:n.push(t[2]);break;case 4:n.push(t[3]);break;case 5:n.push(t[4]);break;case 6:n.push(t[5]);break;case 7:n.push(t[6]);break;case 8:n.push(t[7]);break;case 9:n.push(t[8]);break}switch(parseInt(r[0])){case 1:n.push("و"),n.push(t[9]);break;case 2:n.push("و"),n.push(t[10]);break;case 3:n.push("و"),n.push(t[11]);break;case 4:n.push("و"),n.push(t[12]);break;case 5:n.push("و"),n.push(t[13]);break;case 6:n.push("و"),n.push(t[14]);break;case 7:n.push("و"),n.push(t[15]);break;case 8:n.push("و"),n.push(t[16]);break;case 9:n.push("و"),n.push(t[17]);break}if(n.length>0)return n.join(" ")},getStudentInfo:function(){var e=this,t=this.$store.state.searchTerm,n=this.$store.state.oldUrl;this.$http.get("".concat(n,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=5&").concat(t,"&page=1&limit=1000")).then((function(t){e.allStudents=t.data})).catch((function(e){console.log(e)}))},searchForStudent:function(){var e=this;e.showLoadingStatus=!0,e.findStudent=e.allStudents.find((function(t){if(t.college_number==e.chosenStudent)return t}));var t=this.$store.state.apiUrl,n=this.$store.state.oldUrl,r="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=1&collageNumber=").concat(parseInt(this.findStudent.college_number)),a="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=2&collageNumber=").concat(parseInt(this.findStudent.college_number)),s="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=3&collageNumber=").concat(parseInt(this.findStudent.college_number)),o="".concat(t,"/studentLevelDegree?sectionId=").concat(this.$store.state.user.perv,"&level=4&collageNumber=").concat(parseInt(this.findStudent.college_number)),i="".concat(n,"/studentAllMarks?sectionId=").concat(this.$store.state.user.perv,"&level=5&collegeNumber=").concat(parseInt(this.findStudent.college_number)),c="".concat(n,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=5"),l="".concat(n,"/sectionLessonsForDocument?sectionId=").concat(this.$store.state.user.perv,"&level=5"),d="".concat(n,"/findAverageLessons?sectionId=").concat(this.$store.state.user.perv,"&level=5"),u="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=1"),f="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=2"),p="".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=3"),v=("".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=4"),"".concat(t,"/sectionDegree?sectionId=").concat(this.$store.state.user.perv,"&level=5")),h="".concat(t,"/summerTrainings/").concat(this.$store.state.user.perv),g="".concat(this.$store.state.apiUrl,"/averageBySection/").concat(this.$store.state.user.perv),m="".concat(n,"/sectionLevel?sectionId=").concat(this.$store.state.user.perv,"&level=4&year=2019-2020");function S(){return e.$http.get(r)}function b(){return e.$http.get(a)}function y(){return e.$http.get(s)}function _(){return e.$http.get(o)}function k(){return e.$http.get(c)}function x(){return e.$http.get(l)}function w(){return e.$http.get(d)}function T(){return e.$http.get(u)}function I(){return e.$http.get(f)}function D(){return e.$http.get(p)}function N(){return e.$http.get(v)}function L(){return e.$http.get(h)}function Y(){return e.$http.get(g)}function F(){return e.$http.get(m)}function A(){return e.$http.get(i)}Promise.allSettled([S(),b(),y(),_(),k(),x(),w(),T(),I(),D(),N(),L(),Y(),F(),A()]).then((function(t){var n=t[0],r=t[1],a=t[2],s=t[3],o=t[4],i=t[5],c=t[6],l=t[7],d=t[8],u=t[9],f=t[10],p=t[11],v=t[12],h=t[13],g=t[14];e.firstClass="fulfilled"==n.status?n.value.data:[],e.secondClass="fulfilled"==r.status?r.value.data:[],e.thirdClass="fulfilled"==a.status?a.value.data:[],e.fourthClass="fulfilled"==s.status?s.value.data:[],e.fifthStudentsDegrees="fulfilled"==g.status?g.value.data:[],e.lessonTotal="fulfilled"==o.status?o.value.data:[],e.fourthLessons="fulfilled"==i.status?i.value.data:[],e.totalUnitsFourth="fulfilled"==c.status?c.value.data[0].total:0,e.backupMarks="fulfilled"==f.status?f.value.data:[],e.firstYearMarks="fulfilled"==l.status?l.value.data:[],e.secondYearMarks="fulfilled"==d.status?d.value.data:[],e.thirdYearMarks="fulfilled"==u.status?u.value.data:[],e.summerTrainingStudents="fulfilled"==p.status?p.value.data:[],e.studentsAverage="fulfilled"==v.status?v.value.data:[],e.fourthType="fulfilled"==h.status?h.value.data:[],0==e.studentsAverage.length?(e.showLoadingStatus=!1,e.message="الرجاء حفظ المعدلات قبل اصدار وثيقة او تأييد",e.snackbar=!0):e.showLoadingStatus=!1,2==e.chosenDocumentType?(e.showConfirm=!0,e.show=!1):(e.show=!0,e.showConfirm=!1)})).catch((function(e){console.log(e)}))},toIndiaDigits:function(e){try{var t=["۰","۱","۲","۳","٤","٥","٦","۷","۸","۹"],n=e.toString(),r=n.replace(/[0-9]/g,(function(e){return t[+e]}));return r.replace(".",",")}catch(a){self.showLoadingStatus=!1,self.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",self.snackbar=!0}},printDocument:function(){var e=this;fs.readFile(path.join(__static,"docS.docx"),"binary",(function(t,n){if(t)throw t;var r=new PizZip(n),a=new Docxtemplater(r);a.setData({studentName:e.student.studentName,department:e.student.sectionName,locationAndBirth:e.setPhaseAndDate(e.student.phase).date,write:e.student.averageWrite,seq:e.student.sequence,total:e.student.totalStudent,average:e.toIndiaDigits(e.student.average)});try{a.render()}catch(t){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:t},s)),t.properties&&t.properties.errors instanceof Array){var o=t.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw t}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});saveAs(i,"".concat(e.student.studentName,".docx"))}))},saveForRegister:function(){var e=this,t=e.checkTraining(e.findStudent.college_number,e.findStudent.type);if("مستوف"==t.summerStudent){var n=e.getStudentAverage(e.studentsAverage,e.findStudent.college_number),r={studentName:e.findStudent.name,phase:e.checkForSecondTerm(e.fifthStudentsDegrees),studyType:e.findStudent.type,average:n,averageWrite:e.findAverageWriting(n),sectionId:e.$store.state.user.perv,gender:e.findStudent.sex,sequence:e.getAllAverage(e.findStudent.college_number,e.findStudent)+1,totalStudent:e.studentLength,sequenceType:e.sequenceType};e.$http.post("".concat(e.$store.state.apiUrl,"/addRegisterDocument"),r).then((function(t){console.log(t),e.message="تم ارسال البيانات للتسجيل",e.snackbarSuccess=!0,e.show=!1})).catch((function(t){console.log(t),e.message="حدث خطا اثناء الارسال الرجاء التاكد من الاتصال",e.snackbar=!0,e.show=!1}))}else e.message="الطالب غير مستوف في التدريب الصيفي",e.snackbar=!0,e.show=!1},findAverageWriting:function(e){return e>=50&&e<=59.999?"مقبول":e>=60&&e<=69.999?"متوسط":e>=70&&e<=79.999?"جيد":e>=80&&e<=89.999?"جيد جدا":e>=90&&e<=100?"امتياز":"راسب"},findStudentLevel:function(e,t,n,r){var a=0,s=0;t.filter((function(e){a+=e.mark*e.units,s+=e.units}));return a>0?(100*a/100/s).toFixed(3):0},getMasterSplit:function(e){return console.log(e),{courseOne:e.filter((function(e){return 1==e.course})),courseTwo:e.filter((function(e){return 2==e.course}))}},checkRule:function(e){return!(!e.find((function(e){return 1==e.rule}))&&!e.find((function(e){return"qarar"==e.examType})))},studentLessonMarks:function(e,t,n,r){var a=t.filter((function(t){if(t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));if(a.length>0)return a;if(0!=a.length)return[];var s=t.filter((function(t){if("0"+t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));return s.length>0?s:void 0},getStudentAverage:function(e,t){var n=this;if(0==e.length)n.showLoadingStatus=!1,n.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",n.snackbar=!0,console.log("enter average");else try{return e.find((function(e){return e.collegeNumber==t})).average}catch(r){n.showLoadingStatus=!1,n.message="الرجاء حفظ المعدلات قبل استخراج التأييدات والوثائق",n.snackbar=!0,console.log("found error")}},findStudentLevelRegister:function(e,t,n,r){var a=0,s=0;t.filter((function(t){t.collageNumber!=e&&"0"+t.collageNumber!=e||t.level!=n||t.studyType!=r||(a+=t.mark*t.units,s+=t.units)}));return a>0?(100*a/100/s).toFixed(3):0},checkTraining:function(e,t){var n=this,r=n.summerTrainingStudents.filter((function(t){return t.collageNumber==e||t.collageNumber=="0".concat(e)}));if(r.length>0){if(0!=n.chosenStudyType){var a=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:a.length>0?a.length:0,summerStudent:"غير مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"غير مستوف"}}if(0!=n.chosenStudyType){var s=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:s.length>0?s.length:0,summerStudent:"مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"مستوف"}},checkForStudentCollageNumber:function(e,t){var n=t.find((function(t){return t.collageNumber==e}));return void 0!=n},getAllAverage:function(e,t){var n=this,r=[],a="صباحي"==t.type?1:2,s=0;if(0!=n.chosenStudyType?(n.sequenceType=1,r=n.studentsAverage.filter((function(e){return e.studyType==a})),s=r.findIndex((function(t){return t.collegeNumber==e||t.collegeNumber=="0".concat(e)}))):(n.sequenceType=2,r=n.studentsAverage,s=r.findIndex((function(t){return t.collegeNumber==e||t.collegeNumber=="0".concat(e)})),console.log(s)),r.length>0)return n.studentLength=r.length,s||0;console.log("not found students"),n.studentLength=r.length},storeStudentDocument:function(){var e=this;if(e.failYears&&e.postponementYear&&e.exception){console.log(e.findStudent.birthdate);var t={studentName:e.findStudent.name,studentNameEn:e.findStudent.name,collegeId:e.findStudent.college_number,studentId:e.findStudent.id,sectionId:e.findStudent.sectionid,sectionName:e.$store.state.user.sectionName,enterYear:e.findStudent.enter_year,dob:"".concat(e.findStudent.resident," - ").concat(e.$options.filters.convertDateEN(e.findStudent.birthdate)),average:e.getStudentAverage(e.studentsAverage,e.findStudent.college_number),averageWriting:e.findAverageWriting(e.getStudentAverage(e.studentsAverage,e.findStudent.college_number)),sequence:e.getAllAverage(e.findStudent.college_number,e.findStudent)+1,totalStudents:e.studentLength,firstAverage:e.studentsAverage[0].average,phase:e.checkForSecondTerm(e.fifthStudentsDegrees),failYears:e.failYears,postponementYear:e.postponementYear,exception:e.exception,type:e.findStudent.type,yearsDelay:e.yearsDelay};e.$http.post("".concat(e.$store.state.apiUrl,"/addGraduationDocument"),t).then((function(t){e.showConfirm=!1,e.show=!1,e.message="تم حفظ البيانات",e.snackbarSuccess=!0})).catch((function(t){console.log(t),e.message="حدث خطأ في خزن البيانات",e.snackbar=!0}))}else console.log("not"),e.show=!1,e.showConfirm=!1,e.message="حدث خطأ تأكد من المعلومات",e.snackbar=!0},getLastYearMarks:function(e,t){var n=e.find((function(e){return"custom"==e.markType})),r=e.find((function(e){return"custom2"==e.markType}));if(void 0!=n){var a=n.degree*n.credit;return a}if(void 0!=r){var s=r.degree*r.credit;return s}if(1==t){var o=e.find((function(e){return"final2"==e.markType}));if(void 0!=o){var i=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),c=i.reduce((function(e,t){return e+t.degree*t.credit}),0);return c}var l=e.reduce((function(e,t){return e+t.degree*t.credit}),0);return l}if(2==t){var d=e.find((function(e){return"final2"==e.markType}));if(void 0!=d){var u=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),f=u.reduce((function(e,t){return e+t.degree*t.credit}),0);return f}var p=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree*t.credit}),0);return v}},getLastYearMarksTwo:function(e,t,n){var r=e.find((function(e){return"custom"==e.markType})),a=e.find((function(e){return"custom2"==e.markType}));if(void 0!=r){var s=r.degree;return{degree:s,lessonName:n.name,credit:n.credit,course:n.course}}if(void 0!=a){var o=a.degree;return{degree:o,lessonName:n.name,credit:n.credit,course:n.course}}if(1==t){var i=e.find((function(e){return"final2"==e.markType}));if(void 0!=i){var c=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),l=c.reduce((function(e,t){return e+t.degree}),0);return{degree:l,lessonName:n.name,credit:n.credit}}var d=e.reduce((function(e,t){return e+t.degree}),0);return{degree:d,lessonName:n.name,credit:n.credit}}if(2==t){var u=e.find((function(e){return"final2"==e.markType}));if(void 0!=u){var f=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),p=f.reduce((function(e,t){return e+t.degree}),0);return{degree:p,lessonName:n.name,credit:n.credit}}var v=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),h=v.reduce((function(e,t){return e+t.degree}),0);return{degree:h,lessonName:n.name,credit:n.credit,course:n.course}}},checkForSecondTerm:function(e){var t=e.find((function(e){return"custom2"==e.markType||"final2"==e.markType}));return void 0!=t?2:1},checkForSecondTermsLevel:function(e){var t=e.find((function(e){return 2==e.phase}));return void 0!=t?2:1},getLastYearLessonsMarks:function(e,t){var n=this,r=t.filter((function(t){if(t.college_number==e||"0"+t.college_number==e)return t}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarksTwo(t,n.$store.state.levelType,e);a.push(s)}}));return a}if(console.log(n.backupMarks),n.backupMarks.find((function(t){return t.collageNumber==e}))){var s=n.backupMarks.map((function(e){return{degree:e.mark,lessonName:e.lessonName,credit:e.units,markType:1==e.phase?"custom":"custom2"}}));return s}return[]},findAverageForFourthLevel:function(e,t){var n=this,r=t.filter((function(t){return t.college_number==e||"0"+t.college_number==e}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){console.log(e);var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){console.log(t);var s=n.getLastYearMarks(t,n.$store.state.levelType);a.push(s)}}));if(a.length>0){var s=a.reduce((function(e,t){return e+t}),0);return(100*s/100/n.totalUnitsFourth).toFixed(3)}return n.findStudentLevel(e,n.backupMarks,4,"صباحي")}return 0},findTotalDegree:function(e,t,n,r){return(.1*e+.2*t+.3*n+.4*r).toFixed(3)}},filters:{phaseRole:function(e){return 1==e?"الدور الاول":2==e?"الدور الثاني":void 0},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString("ar-IQ")},convertDateEN:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")},genderCheck:function(e){return"ذكر"==e?"ناجح":"ناجحة"}}},xt=kt,wt=(n("7a40"),Object(f["a"])(xt,yt,_t,!1,null,"558c26fa",null)),Tt=wt.exports;v()(wt,{VAutocomplete:L["a"],VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCol:Y["a"],VProgressCircular:je["a"],VRow:A["a"],VSnackbar:z["a"],VStepper:H["a"],VStepperContent:J["a"],VStepperHeader:Z["a"],VStepperItems:Z["b"],VStepperStep:Q["a"]});var It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"0px","background-position-x":"center","background-position-y":"center","background-repeat":"no-repeat !important"},style:{backgroundImage:"url("+e.backgroundImage+")"},attrs:{id:"divDocument"}},[n("v-row",{staticClass:"not-printable",staticStyle:{margin:"10px 0px"},attrs:{align:"center",justify:"space-around"}},[n("h1",[e._v("تأييد الطالب")])]),n("div",{staticStyle:{"text-align":"right","padding-right":"60px",color:"#000","font-weight":"bold","font-size":"12px"},attrs:{id:"content-div"}},[e._v(" : العدد ")]),e._m(0),n("div",{staticStyle:{"padding-top":"50px"}}),e._m(1),n("div",{staticStyle:{"padding-top":"10px"}}),e._m(2),n("div",{staticStyle:{"padding-top":"10px"}}),n("div",{staticClass:"shadow-text",staticStyle:{border:"3px solid #f4d58d",margin:"20px","border-radius":"10px"}},[n("div",{staticStyle:{direction:"rtl"}},[n("p",{staticStyle:{"font-size":"26px","text-align":"justify","line-height":"2",direction:"rtl",padding:"10px",color:"#000","text-justify":"inter-word"},attrs:{id:"document-content"}},[e._v(" نؤيد لكم بأن "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(e._s(e.student.studentName))]),e._v(" الملصقة "+e._s(e.checkGender("صورته",e.student.gender))+" اعلاه قد "+e._s(e.checkGender("تخرج",e.student.gender))+" في كليتنا للعام الدراسي "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v("٢٠٢٠/٢٠١٩")]),e._v(" في "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(e._s(e.setPhaseAndDate(e.student.phase).phaseText))]),e._v(" بتاريخ "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(e._s(e.setPhaseAndDate(e.student.phase).date))]),e._v(" للدراسة "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(e._s(e.checkStudy(e.student.studyType)))]),e._v(" و "+e._s(e.checkGender("حصل",e.student.gender))+" على شهادة بكالوريوس في "),n("span",{staticClass:"input-bold",staticStyle:{"font-weight":"bold",width:"160px","min-width":"120px","max-width":"3000px"},attrs:{contenteditable:""}},[e._v(e._s(e.student.sectionName))]),e._v(" بمعدل "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(" "+e._s(e.toIndiaDigits(e.student.average))+" ")]),e._v(" بتقدير "),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(" "+e._s(e.student.averageWrite)+" ")]),n("span",{staticStyle:{"font-weight":"bold"},attrs:{contenteditable:""}},[e._v(" "+e._s(e.setSequence(e.student.sequenceType,e.student.sequence,e.student.totalStudent))+" ")]),e._v(" ، وبناءً على "+e._s(e.checkGender("طلبه",e.student.gender))+" "+e._s(e.checkGender("زود",e.student.gender))+" بهذا التأييد ")])])]),e._m(3),n("div",{staticStyle:{"padding-top":"140px"}}),n("div",{attrs:{id:"footer-section"}},[n("v-row",{staticStyle:{"text-align":"center"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("p",{staticStyle:{color:"#000","font-weight":"bold","font-size":"16px"},attrs:{contenteditable:""}},[e._v(" د. سيف محمد علي ")]),n("p",{staticStyle:{color:"#000","font-weight":"bold","font-size":"16px"}},[e._v(" مدير التسجيل و شؤون الطلبة ")])]),n("v-col",{attrs:{cols:"6"}},[n("p",{staticStyle:{color:"#000","font-weight":"bold","font-size":"16px"},attrs:{contenteditable:""}},[e._v(" أ.د. أبراهيم سعيد كاطع ")]),n("p",{staticStyle:{color:"#000","font-weight":"bold","font-size":"16px"}},[e._v(" معاون العميد للشؤون العلمية ")])])],1)],1),n("v-row",{staticClass:"not-printable",staticStyle:{margin:"100px 0px",padding:"0px 0px"},attrs:{align:"center",justify:"space-around"}},[n("v-btn",{attrs:{color:"success"},on:{click:e.print}},[n("v-icon",{attrs:{left:"",small:""}},[e._v(" fa-print ")]),e._v(" بدون معدل ")],1),n("v-btn",{attrs:{color:"success"},on:{click:e.printWithAverage}},[n("v-icon",{attrs:{left:"",small:""}},[e._v(" fa-print ")]),e._v(" بمعدل ")],1)],1)],1)},Dt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"text-align":"right","padding-right":"60px",color:"#000","font-weight":"bold","font-size":"12px"}},[e._v(" التاريخ : "),n("span",{staticStyle:{"padding-left":"10px"}}),e._v(" / "),n("span",{staticStyle:{"padding-left":"10px"}}),e._v("/ ٢٠٢١ ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"text-align":"center"}},[n("span",{staticStyle:{color:"#000","font-weight":"bold",display:"inline-block","font-size":"24px"},attrs:{contenteditable:""}},[e._v(" الى / ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"text-align":"center"}},[n("h2",{staticStyle:{color:"#000","font-weight":"bold","border-bottom":"2px solid #000",display:"inline-block"}},[e._v(" م / تأييد تخرج ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"20px"}},[n("span",{staticStyle:{width:"100%","text-decoration":"underline",color:"#000"},attrs:{type:"text",contenteditable:""}},[e._v(" الملاحظات")])])}],Nt=n("2909"),Lt=n("3e8f"),Yt=(window.require("electron").ipcRenderer,window.require("path")),Ft={data:function(){return{imagePath:"",image:{backgroundImage:"url(../assets/logo.png)"},forDocument:"",studentDate:"     /      / ٢٠٢١   ",documentNumber:"",student:"",phaseData:"",backgroundImage:n("0ca1"),dialog:!1}},created:function(){this.imagePath=Yt.join(__static,"1.png"),this.student=this.$store.state.printStudent,console.log(this.student)},mounted:function(){var e=localStorage.getItem("phaseDate");this.phaseData=JSON.parse(e)},methods:{printWithAverage:function(){var e=this;Lt["readFile"](Yt.join(__static,"withAverage.docx"),"binary",(function(t,n){if(t)throw t;var r=new ut.a(n),a=new lt.a(r);a.setData({studentName:e.student.studentName,sectionName:e.student.sectionName,phase:e.setPhaseAndDate(e.student.phase).phaseText,date:e.setPhaseAndDate(e.student.phase).date,studyType:e.checkStudy(e.student.studyType),average:e.toIndiaDigits(e.student.average),write:e.student.averageWrite,seq:e.student.sequence,total:e.student.totalStudent,type:e.checkStudy(e.student.studyType)});try{a.render()}catch(t){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:t},s)),t.properties&&t.properties.errors instanceof Array){var o=t.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw t}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(i,"".concat(e.student.studentName,".docx"))}))},renderDoc:function(){var e=this;Lt["readFile"](Yt.join(__static,"withoutAverage.docx"),"binary",(function(t,n){if(t)throw t;var r=new ut.a(n),a=new lt.a(r);a.setData({studentName:e.student.studentName,sectionName:e.student.sectionName,phase:e.setPhaseAndDate(e.student.phase).phaseText,date:e.setPhaseAndDate(e.student.phase).date,studyType:e.checkStudy(e.student.studyType)});try{a.render()}catch(t){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:t},s)),t.properties&&t.properties.errors instanceof Array){var o=t.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw t}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(i,"".concat(e.student.studentName,".docx"))}))},print:function(){this.renderDoc()},openNew:function(){for(var e=document.getElementById("divDocument").outerHTML,t="",n=0,r=Object(Nt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));n<r.length;n++){var a=r[n];t+=a.outerHTML}var s=window.open("","","left=0,top=0,width=600,height=1754,toolbar=0,scrollbars=0,status=0");s.document.write("<!DOCTYPE html>\n                  <html>\n                  <head>\n                  ".concat(t,'\n                    <style type="text/css">\n                        #footer-section {\n                           position: absolute;\n                           width: 100%;\n                           bottom: 90px;\n                        }\n                        p{\n                           font-size:18px !important\n                        }\n                        #divDocument {\n                           // background: url("../assets/1.png") !important;\n                           background-size: 100% 100% !important;\n                           background-position-x: center;\n                           background-position-y: center;\n                           background-repeat: no-repeat !important;\n                           height: 99vh;\n                           -webkit-print-color-adjust: exact !important;\n                        }\n                        .shadow-text {\n                           box-shadow: 1px 1px 1px 1px #b3b3b3 !important;\n                        }\n                        #document-content {\n                           padding: 10px !important;\n                        }\n                        .input-bold {\n                           width: auto;\n                        }\n                        .not-printable {\n                           display: none !important;\n                        }\n                        #content-div {\n                           padding-top: 160px !important;\n                        }\n                    </style>\n\n                  </head>\n                  <body>\n                     ').concat(e,"\n                  </body>\n                  </html>"))},checkGender:function(e,t){return"ذكر"==t?e:"صورته"==e?"صورتها":"تخرج"==e?"تخرجت":"حصل"==e?"حصلت":"طلبه"==e?"طلبها":"زود"==e?"زودت":void 0},checkStudy:function(e){return"صباحي"==e?"الصباحية":"المسائية"},toIndiaDigits:function(e){var t=["۰","۱","۲","۳","٤","٥","٦","۷","۸","۹"],n=e.toString(),r=n.replace(/[0-9]/g,(function(e){return t[+e]}));return r.replace(".",",")},setSequence:function(e,t,n){var r=this;return 2==e?"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n)," خريجاً للدورين الاول والثاني وللدراستين الصباحية والمسائية"):"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n)," خريجاً للدورين الاول والثاني")},setPhaseAndDate:function(e){return 1==e?{phaseText:" الاول",date:this.phaseData.phaseOne}:{phaseText:" الثاني",date:this.phaseData.phaseTwo}}},filters:{studyType:function(e){return 2==e?"للدراستين الصباحية والمسائية":1==e?"حسب دراسة الطالب":void 0}}},At=Ft,Ct=(n("0d28"),Object(f["a"])(At,It,Dt,!1,null,"8dd6006a",null)),$t=Ct.exports;v()(Ct,{VBtn:V["a"],VCol:Y["a"],VIcon:P["a"],VRow:A["a"]});var Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",[e._m(0),n("v-card",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,search:e.search,items:e.desserts,"item-key":"name","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{staticClass:"elevation-0",attrs:{color:"secondary"}},[e._v(" الطلبة "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"fa-search",label:"بحث","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}],null,!1,1057599200),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),n("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.addSummer}},[e._v(" حفظ ")])],1),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:e.alertColor},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}],null,!1,1946058294),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v("الطلبة الغير مستوفيين")]),n("v-divider"),n("v-card-text",{staticStyle:{height:"300px"}},[n("v-divider"),n("p",[e._v(" مجموع الطلبة الغير مستوفيين هو : "+e._s(e.selected.length)+" طالب ")]),n("ul",e._l(e.selected,(function(t,r){return n("li",{key:r,staticStyle:{"list-style":"none"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"1"}},[e._v(" "+e._s(r+1)+" -")]),n("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(t.name)+" ")]),n("v-col",{staticStyle:{"font-weight":"bold",color:"red"},attrs:{cols:"4"}},[e._v(" "+e._s(t.type)+" ")])],1)],1)})),0)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveTheResult}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" الغاء ")])],1)],1)],1)],1):e._e()},jt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("التدريب الصيفي")])])}],Rt={data:function(){return{singleSelect:!1,search:"",snackbar:!1,multiLine:!0,show:!1,keyComponent:0,alertColor:"",message:"",selected:[],dialog:!1,headers:[{text:"اسم الطالب",align:"start",sortable:!1,value:"name"},{text:"الرقم الاحصائي",value:"college_number"},{text:"الدراسة",value:"type"}],desserts:[]}},created:function(){var e=this;e.initialData()},methods:{initialData:function(){var e=this,t="".concat(this.$store.state.oldUrl,"/studentInfo?sectionId=").concat(this.$store.state.user.perv,"&level=4&").concat(this.$store.state.searchTerm,"&page=1&limit=1000"),n="".concat(this.$store.state.apiUrl,"/summerTrainings/").concat(this.$store.state.user.perv);function r(){return e.$http.get(t)}function a(){return e.$http.get(n)}Promise.allSettled([r(),a()]).then((function(t){var n=t[0],r=t[1];console.log(r.value.data),e.desserts="fulfilled"==n.status?n.value.data:[],e.selected="fulfilled"==r.status?r.value.data.map((function(e){return{name:e.studentName,college_number:e.collegeNumber,type:e.studyType}})):[],e.show=!0})).catch((function(e){console.log(e)}))},addSummer:function(){var e=this;e.dialog=!0},saveTheResult:function(){var e=this;this.$http.post("".concat(this.$store.state.apiUrl,"/addMultiSummer"),e.selected).then((function(t){e.message="تم حفظ البيانات",e.alertColor="green",e.snackbar=!0,e.dialog=!1,e.selected=[],console.log(t)})).catch((function(e){console.log(e)}))}}},Ot=Rt,Et=(n("a6f6"),Object(f["a"])(Ot,Mt,jt,!1,null,"4b2b5123",null)),Vt=Et.exports;v()(Et,{VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:Y["a"],VDataTable:nt["a"],VDialog:B["a"],VDivider:m["a"],VRow:A["a"],VSnackbar:z["a"],VSpacer:G["a"],VTextField:K["a"],VToolbar:mt["a"]});var Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.keyComponent},[e._m(0),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"accent"}},[n("h3",{staticStyle:{color:"#fff","text-align":"center"}},[e._v("نوع الوثيقة")])]),n("v-card-text",[n("v-row",{staticStyle:{margin:"10px"}},[n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.exportDocumentInArabic}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" باللغة العربية ")],1)],1),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"6"}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.exportDocumentInEnglish}},[n("v-icon",{attrs:{left:""}},[e._v(" fa-file-word ")]),e._v(" باللغة الانكليزية ")],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("اغلاق")])],1)],1)]}}]),model:{value:e.dialog3,callback:function(t){e.dialog3=t},expression:"dialog3"}}),n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(e){e.on,e.attrs}}]),model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"headline",staticStyle:{background:"#e23","margin-bottom":"10px",color:"#ffffff"}},[n("h6",[e._v(" حذف وثيقة ")])]),n("v-card-text",[e._v(" هل انت متأكد من حذف هذه الوثيقة ؟ ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.confirmDelete()}}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogDelete=!1}}},[e._v(" اغلاق ")])],1)],1)],1),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"success"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")]),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"green"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbarSuccess,callback:function(t){e.snackbarSuccess=t},expression:"snackbarSuccess"}},[e._v(" "+e._s(e.message)+" ")]),n("div",{staticClass:"sheet-wrapper"},[n("v-stepper",{attrs:{vertical:""},on:{change:e.stepperChange},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{color:"accent",complete:e.e1>1,step:"1"}},[e._v(" اختر القسم ")])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.allSections,"item-text":"name","item-value":"id",outlined:"",dense:"",label:"القسم"},model:{value:e.chosenSection,callback:function(t){e.chosenSection=t},expression:"chosenSection"}})],1)],1),n("v-btn",{attrs:{color:"accent",loading:e.storeLoading},on:{click:e.searchForStudent}},[e._v(" بحث ")])],1)],1)],1)],1),e._m(1),n("div",{staticStyle:{"text-align":"center"}},[n("v-row",[n("v-col",{staticStyle:{"margin-right":"50px"},attrs:{cols:"3"}},[n("v-autocomplete",{attrs:{items:e.sections,"item-text":"studentName","item-value":"studentName",outlined:"",dense:"",label:"اسم الطالب"},on:{"click:clear":e.clearStudents,change:e.findStudent},model:{value:e.foundStudent,callback:function(t){e.foundStudent=t},expression:"foundStudent"}})],1)],1)],1),e._l(e.filteredStudent,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"masters-section"},[n("div",{staticClass:"master-card"},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"1"}},[e._v(e._s(r+1))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.studentName))]),n("v-col",{attrs:{cols:"2"}},[e._v(" محل وتاريخ الولادة: "+e._s(t.dob))]),n("v-col",{attrs:{cols:"1"}},[e._v(" المعدل : "+e._s(t.average))]),n("v-col",{attrs:{cols:"1"}},[e._v("التقدير : "+e._s(t.averageWriting))]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"2"}},[e._v("سنة القبول : "+e._s(t.enterYear))]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"2"}},[e._v("التسلسل : "+e._s(t.sequence))]),n("v-col",{staticStyle:{"text-align":"left"},attrs:{cols:"1"}},[n("v-btn",{staticClass:"mx-1",attrs:{loading:e.exportLoading,fab:"",dark:"",small:"",depressed:"",color:"accent"},on:{click:function(n){return e.studentInformation(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-file-word ")])],1),n("v-btn",{staticClass:"mx-1",attrs:{loading:e.exportLoading,fab:"",dark:"",small:"",depressed:"",color:"error"},on:{click:function(n){return e.deleteDocument(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-trash ")])],1)],1)],1)],1)])])}))],2)},Wt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("توليد الوثائق")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("الوثائق")])])}],Bt=n("ade3"),Pt=(n("466d"),n("a9e3"),window.require("path")),qt={data:function(){var e;return e={chosenSection:"",show:!1,storeLoading:!1,dialogDelete:!1,snackbarSuccess:!1,snackbar:!1,multiLine:!0,imagePath:"",keyComponent:0,message:"",allSections:[]},Object(Bt["a"])(e,"snackbarSuccess",!1),Object(Bt["a"])(e,"sections",[]),Object(Bt["a"])(e,"foundStudent",""),Object(Bt["a"])(e,"fourthClass",0),Object(Bt["a"])(e,"filteredStudent",[]),Object(Bt["a"])(e,"documentForDelete",0),Object(Bt["a"])(e,"lessonTotal",0),Object(Bt["a"])(e,"e1",1),Object(Bt["a"])(e,"dialog3",!1),Object(Bt["a"])(e,"exportLoading",!1),Object(Bt["a"])(e,"phaseData",{}),Object(Bt["a"])(e,"studentSelected",{}),Object(Bt["a"])(e,"studentAvailableInformation",{}),Object(Bt["a"])(e,"studentFirstYear",[]),Object(Bt["a"])(e,"studentSecondYear",[]),Object(Bt["a"])(e,"studentThirdYear",[]),Object(Bt["a"])(e,"fifthLessons",[]),Object(Bt["a"])(e,"studentSectionId",""),Object(Bt["a"])(e,"studentFifthYear",[]),Object(Bt["a"])(e,"studentFourthYear",[]),Object(Bt["a"])(e,"fourthLessons",[]),Object(Bt["a"])(e,"fourthType",""),e},created:function(){this.getStudentInfo()},methods:{stepperChange:function(){console.log("stepper")},setPhaseAndDate:function(e){return 1==e?{phaseText:"الدور الاول",date:this.phaseData.phaseOne,phaseTextEn:"FistAttempt",dateEn:this.phaseData.phaseOneEn}:{phaseText:"الدور الثاني",date:this.phaseData.phaseTwo,phaseTextEn:"Second Attempt",dateEn:this.phaseData.phaseTwoEn}},getStudentInfo:function(){var e=this,t=this.$store.state.oldUrl,n=localStorage.getItem("phaseDate");this.phaseData=JSON.parse(n),console.log(this.phaseData),this.$http.get("".concat(t,"/sections")).then((function(t){e.allSections=t.data,console.log(t.data)})).catch((function(e){console.log(e)}))},deleteDocument:function(e){this.documentForDelete=e.idGraduationDocument,this.dialogDelete=!0},confirmDelete:function(){var e=this;this.$http.delete("".concat(this.$store.state.apiUrl,"/graduationDocument/").concat(this.documentForDelete)).then((function(t){e.dialogDelete=!1,e.message="تم حذف الوثيقة",e.snackbarSuccess=!0,e.searchForStudent(),console.log(t)}))},clearStudents:function(){var e=this;e.filteredStudent=e.sections,console.log(e.filteredStudent),e.keyComponent+=1},findStudent:function(){var e=this;e.filteredStudent=e.sections;var t=e.filteredStudent.filter((function(t){return t.studentName==e.foundStudent}));e.filteredStudent=t,e.keyComponent+=1},checkGenderEn:function(e){return"ذكر"==e?"he":"she"},checkGender:function(e,t){return"ذكر"==t?e:"صورته"==e?"صورتها":"تخرج"==e?"تخرجت":"حصل"==e?"حصلت":void 0},numberToWord:function(e){var t=["احدى","اثنتان","ثلاث","اربع","خمس","ست","سبع","ثمان","تسع","عشرة","عشرون","ثلاثون","اربعون","خمسون","ستون","سبعون","ثمانون","تسعون","مئة"];switch(e){case 10:return t[9];case 20:return t[10];case 30:return t[11];case 40:return t[12];case 50:return t[13];case 60:return t[14];case 70:return t[15];case 80:return t[16];case 90:return t[17];case 100:return t[18]}var n=[],r=e.toString().split("");switch(parseInt(r[1])){case 1:n.push(t[0]);break;case 2:n.push(t[1]);break;case 3:n.push(t[2]);break;case 4:n.push(t[3]);break;case 5:n.push(t[4]);break;case 6:n.push(t[5]);break;case 7:n.push(t[6]);break;case 8:n.push(t[7]);break;case 9:n.push(t[8]);break}switch(parseInt(r[0])){case 1:n.push("و"),n.push(t[9]);break;case 2:n.push("و"),n.push(t[10]);break;case 3:n.push("و"),n.push(t[11]);break;case 4:n.push("و"),n.push(t[12]);break;case 5:n.push("و"),n.push(t[13]);break;case 6:n.push("و"),n.push(t[14]);break;case 7:n.push("و"),n.push(t[15]);break;case 8:n.push("و"),n.push(t[16]);break;case 9:n.push("و"),n.push(t[17]);break}if(n.length>0)return n.join(" ")},inWords:function(e){var t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if((e=e.toString()).length>9)return"overflow";var r=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(r){var a="";return a+=0!=r[1]?t[Number(r[1])]||n[r[1][0]]+" "+t[r[1][1]]:"",a+=0!=r[2]?t[Number(r[2])]||n[r[2][0]]+" "+t[r[2][1]]:"",a+=0!=r[3]?t[Number(r[3])]||n[r[3][0]]+" "+t[r[3][1]]:"",a+=0!=r[4]?t[Number(r[4])]||n[r[4][0]]+" "+t[r[4][1]]:"",a+=0!=r[5]?(""!=a?"and ":"")+(t[Number(r[5])]||n[r[5][0]]+" "+t[r[5][1]]):"",a}},checkStudy:function(e){return"صباحي"==e?{study:"الصباحية",studyEn:"Morning"}:{study:"المسائية",studyEn:"Evening"}},searchForStudent:function(){var e=this;e.storeLoading=!0;var t=this.$store.state.apiUrl;this.$store.state.oldUrl;this.$http.get("".concat(t,"/graduationSection/").concat(e.chosenSection)).then((function(t){e.sections=t.data,e.filteredStudent=e.sections,console.log(t.data),e.storeLoading=!1})).catch((function(t){404==t.response.status&&(e.message="لا يوجد طلبة في هذا القسم",e.snackbar=!0,e.storeLoading=!1)}))},toIndiaDigits:function(e){var t=["۰","۱","۲","۳","٤","٥","٦","۷","۸","۹"],n=e.toString(),r=n.replace(/[0-9]/g,(function(e){return t[+e]}));return r.replace(".",",")},setSequence:function(e,t,n){var r=this;return 2==e?"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n),' خريجاً <span style="font-weight : bold">للدورين الاول والثاني وللدراستين الصباحية والمسائية</span>'):"وبتسلسل ".concat(r.toIndiaDigits(t)," من مجموع ").concat(r.toIndiaDigits(n),' خريجاً <span style="font-weight : bold">للدورين الاول والثاني</span>')},exportDocumentInEnglish:function(){var e=this,t=this,n=this.allSections.find((function(e){return e.id==t.chosenSection}));30==n.id?(console.log(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFifthYear)),Lt["readFile"](Pt.join(__static,"englishDocumentDent.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentNameEn,locationAndBirth:t.studentSelected.dob,certificate:"Bachelor ".concat(n.registerName),department:n.name,enterYear:t.studentAvailableInformation.enter_year,graduationDate:t.setPhaseAndDate(t.studentSelected.phase).dateEn,studyType:t.checkStudy(e.studentSelected.type).studyEn,average:t.studentSelected.average,write:t.gradeWrite(t.studentSelected.averageWriting),seq:t.studentSelected.sequence,total:t.studentSelected.totalStudents,firstAverage:t.studentSelected.firstAverage,gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.studentFirstYear[0].year,firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).en,secondYearDate:t.studentSecondYear[0].year,secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).en,thirdYearDate:t.studentThirdYear[0].year,thirdYear:t.studentThirdYear,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).en,fourthYearDate:t.studentFourthYear[0].year,fourthYear:t.studentFourthYear,fourthAttempt:t.checkForSecondTerm(t.studentFourthYear).en,fifthYearDate:"2019 - 2020",fifthYear:t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFifthYear),fifthAttempt:t.checkForSecondTermLastYear(t.studentFifthYear).en});try{o.render()}catch(r){function i(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},i)),r.properties&&r.properties.errors instanceof Array){var c=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",c)}throw r}var l=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(l,"".concat(t.studentAvailableInformation.name,".docx"))}))):1==t.studentFirstYear[0].masterTypeId&&1==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"encccc.docx"),"binary",(function(n,r){if(n)throw n;var a=new ut.a(r),s=new lt.a(a);s.setData({studentName:t.studentSelected.studentNameEn,locationAndBirth:t.studentSelected.dob,certificate:"Bachelor ".concat(t.studentSelected.sectionName),department:t.studentSelected.sectionName,enterYear:t.studentAvailableInformation.enter_year,graduationDate:t.setPhaseAndDate(t.studentSelected.phase).dateEn,studyType:t.checkStudy(e.studentSelected.type).studyEn,average:t.studentSelected.average,write:t.gradeWrite(t.studentSelected.averageWriting),seq:t.studentSelected.sequence,total:t.studentSelected.totalStudents,firstAverage:t.studentSelected.firstAverage,gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear,fail:t.studentSelected.failYears,exception:t.studentSelected.exception,delay:t.studentSelected.yearsDelay,firstYearDate:t.studentFirstYear[0].year,firstYearOne:t.getMasterSplit(t.studentFirstYear).courseOne,firstYearTwo:t.getMasterSplit(t.studentFirstYear).courseTwo,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).en,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.studentSecondYear[0].year,secondYearOne:t.getMasterSplit(t.studentSecondYear).courseOne,secondYearTwo:t.getMasterSplit(t.studentSecondYear).courseTwo,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).en,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.studentThirdYear[0].year,thirdYearOne:t.getMasterSplit(t.studentThirdYear).courseOne,thirdYearTwo:t.getMasterSplit(t.studentThirdYear).courseTwo,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).en,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"2019-2020",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).en,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{s.render()}catch(n){function o(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:n},o)),n.properties&&n.properties.errors instanceof Array){var i=n.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",i)}throw n}var c=s.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(c,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&1==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"enyccc.docx"),"binary",(function(n,r){if(n)throw n;var a=new ut.a(r),s=new lt.a(a);s.setData({studentName:t.studentSelected.studentNameEn,locationAndBirth:t.studentSelected.dob,certificate:"Bachelor ".concat(t.studentSelected.sectionName),department:t.studentSelected.sectionName,enterYear:t.studentAvailableInformation.enter_year,graduationDate:t.setPhaseAndDate(t.studentSelected.phase).dateEn,studyType:t.checkStudy(e.studentSelected.type).studyEn,average:t.studentSelected.average,write:t.gradeWrite(t.studentSelected.averageWriting),seq:t.studentSelected.sequence,total:t.studentSelected.totalStudents,firstAverage:t.studentSelected.firstAverage,gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear,fail:t.studentSelected.failYears,exception:t.studentSelected.exception,delay:t.studentSelected.yearsDelay,firstYearDate:t.studentFirstYear[0].year,firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).en,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.studentSecondYear[0].year,secondYearOne:t.getMasterSplit(t.studentSecondYear).courseOne,secondYearTwo:t.getMasterSplit(t.studentSecondYear).courseTwo,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).en,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.studentThirdYear[0].year,thirdYearOne:t.getMasterSplit(t.studentThirdYear).courseOne,thirdYearTwo:t.getMasterSplit(t.studentThirdYear).courseTwo,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).en,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"2019-2020",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).en,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{s.render()}catch(n){function o(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:n},o)),n.properties&&n.properties.errors instanceof Array){var i=n.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",i)}throw n}var c=s.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(c,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&2==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"enyccc.docx"),"binary",(function(e,n){if(e)throw e;var r=new ut.a(n),a=new lt.a(r);try{a.render()}catch(e){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:e},s)),e.properties&&e.properties.errors instanceof Array){var o=e.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw e}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(i,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&2==t.studentSecondYear[0].masterTypeId&&2==t.studentThirdYear[0].masterTypeId&&2==t.fourthType.type?Lt["readFile"](Pt.join(__static,"enyccc.docx"),"binary",(function(e,n){if(e)throw e;var r=new ut.a(n),a=new lt.a(r);try{a.render()}catch(e){function s(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:e},s)),e.properties&&e.properties.errors instanceof Array){var o=e.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",o)}throw e}var i=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(i,"".concat(t.studentAvailableInformation.name,".docx"))})):Lt["readFile"](Pt.join(__static,"englishDocument.docx"),"binary",(function(n,r){if(n)throw n;var a=new ut.a(r),s=new lt.a(a);s.setData({studentName:t.studentSelected.studentNameEn,locationAndBirth:t.studentSelected.dob,certificate:"Bachelor",department:t.studentSelected.sectionName,enterYear:t.studentAvailableInformation.enter_year,graduationDate:t.setPhaseAndDate(t.studentSelected.phase).dateEn,studyType:t.checkStudy(e.studentSelected.type).studyEn,average:t.studentSelected.average,write:t.gradeWrite(t.studentSelected.averageWriting),seq:t.studentSelected.sequence,total:t.studentSelected.totalStudents,firstAverage:t.studentSelected.firstAverage,gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear,fail:t.studentSelected.failYears,firstYearDate:t.studentFirstYear[0].year,firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).en,secondYearDate:t.studentSecondYear[0].year,secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).en,thirdYearDate:t.studentThirdYear[0].year,thirdYear:t.studentThirdYear,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).en,fourthYearDate:"2019-2020",fourthYear:t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear),fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).en});try{s.render()}catch(n){function o(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:n},o)),n.properties&&n.properties.errors instanceof Array){var i=n.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",i)}throw n}var c=s.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(c,"".concat(t.studentAvailableInformation.name,".docx"))}))},getMasterSplit:function(e){return{courseOne:e.filter((function(e){return 1==e.course})),courseTwo:e.filter((function(e){return 2==e.course}))}},checkRule:function(e,t){return e.find((function(e){return 1==e.rule}))||e.find((function(e){return"qarar"==e.examType}))?"ذكر"==t?"ناجح بقرار من":"ناجحة بقرار من":"ذكر"==t?"ناجح من":"ناجحة من"},exportDocumentInArabic:function(){var e=this,t=this,n=this.allSections.find((function(e){return e.id==t.chosenSection}));if(30==n.id){var r=t.studentFirstYear[0].year.split("-").reverse().join("-"),a=t.studentSecondYear[0].year.split("-").reverse().join("-"),s=t.studentThirdYear[0].year.split("-").reverse().join("-"),o=t.studentFourthYear[0].year.split("-").reverse().join("-");Lt["readFile"](Pt.join(__static,"yearlyDent.docx"),"binary",(function(i,c){if(i)throw i;var l=new ut.a(c),d=new lt.a(l);d.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(r),firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(a),secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(s),thirdYear:t.studentThirdYear,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:t.toIndiaDigits(o),fourthYear:t.studentFourthYear,fourthAttempt:t.checkForSecondTerm(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex),fifthYearDate:"٢٠١٩ - ٢٠٢٠",fifthYear:t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFifthYear),fifthAttempt:t.checkForSecondTermLastYear(t.studentFifthYear).ar,fifthSuccess:t.checkRule(t.studentFifthYear,t.studentAvailableInformation.sex)});try{d.render()}catch(i){function u(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:i},u)),i.properties&&i.properties.errors instanceof Array){var f=i.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",f)}throw i}var p=d.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(p,"".concat(t.studentAvailableInformation.name,".docx"))}))}else{var i=t.studentFirstYear[0].year.split("-").reverse().join("-"),c=t.studentSecondYear[0].year.split("-").reverse().join("-"),l=t.studentThirdYear[0].year.split("-").reverse().join("-");console.log(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)),1==t.studentFirstYear[0].masterTypeId&&1==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"cccc2.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(i),firstYearOne:t.getMasterSplit(t.studentFirstYear).courseOne,firstYearTwo:t.getMasterSplit(t.studentFirstYear).courseTwo,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(c),secondYearOne:t.getMasterSplit(t.studentSecondYear).courseOne,secondYearTwo:t.getMasterSplit(t.studentSecondYear).courseTwo,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(l),thirdYearOne:t.getMasterSplit(t.studentThirdYear).courseOne,thirdYearTwo:t.getMasterSplit(t.studentThirdYear).courseTwo,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"٢٠١٩ - ٢٠٢٠",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{o.render()}catch(r){function d(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},d)),r.properties&&r.properties.errors instanceof Array){var u=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",u)}throw r}var f=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(f,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&1==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"yccc.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(i),firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(c),secondYearOne:t.getMasterSplit(t.studentSecondYear).courseOne,secondYearTwo:t.getMasterSplit(t.studentSecondYear).courseTwo,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(l),thirdYearOne:t.getMasterSplit(t.studentThirdYear).courseOne,thirdYearTwo:t.getMasterSplit(t.studentThirdYear).courseTwo,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"٢٠١٩ - ٢٠٢٠",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{o.render()}catch(r){function d(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},d)),r.properties&&r.properties.errors instanceof Array){var u=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",u)}throw r}var f=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(f,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&2==t.studentSecondYear[0].masterTypeId&&1==t.studentThirdYear[0].masterTypeId?Lt["readFile"](Pt.join(__static,"yycc.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(i),firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(c),secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(l),thirdYearOne:t.getMasterSplit(t.studentThirdYear).courseOne,thirdYearTwo:t.getMasterSplit(t.studentThirdYear).courseTwo,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"٢٠١٩ - ٢٠٢٠",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{o.render()}catch(r){function d(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},d)),r.properties&&r.properties.errors instanceof Array){var u=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",u)}throw r}var f=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(f,"".concat(t.studentAvailableInformation.name,".docx"))})):2==t.studentFirstYear[0].masterTypeId&&2==t.studentSecondYear[0].masterTypeId&&2==t.studentThirdYear[0].masterTypeId&&2==t.fourthType.type?Lt["readFile"](Pt.join(__static,"yyyc.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(i),firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(c),secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(l),thirdYear:t.studentThirdYear,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"٢٠١٩ - ٢٠٢٠",fourthYearOne:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseOne,fourthYearTwo:t.getMasterSplit(t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear)).courseTwo,fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{o.render()}catch(r){function d(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},d)),r.properties&&r.properties.errors instanceof Array){var u=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",u)}throw r}var f=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(f,"".concat(t.studentAvailableInformation.name,".docx"))})):Lt["readFile"](Pt.join(__static,"yearly.docx"),"binary",(function(r,a){if(r)throw r;var s=new ut.a(a),o=new lt.a(s);o.setData({studentName:t.studentSelected.studentName,locationAndBirth:t.toIndiaDigits(t.studentSelected.dob),certificate:"بكالوريوس ".concat(n.registerName),department:n.name,enterYear:t.toIndiaDigits(t.studentAvailableInformation.enter_year),graduationDate:t.toIndiaDigits(t.setPhaseAndDate(t.studentSelected.phase).dateEn),studyType:t.checkStudy(e.studentSelected.type).study,average:t.toIndiaDigits(t.studentSelected.average),write:t.studentSelected.averageWriting,seq:t.toIndiaDigits(t.studentSelected.sequence),total:t.toIndiaDigits(t.studentSelected.totalStudents),firstAverage:t.toIndiaDigits(t.studentSelected.firstAverage),gender:t.checkGenderEn(t.studentAvailableInformation.sex,"english"),post:t.studentSelected.postponementYear?t.studentSelected.postponementYear:"لايوجد",fail:t.studentSelected.failYears?t.studentSelected.failYears:"لايوجد",exception:t.studentSelected.exception?t.studentSelected.exception:"لايوجد",delay:t.studentSelected.yearsDelay?t.studentSelected.yearsDelay:"لايوجد",firstYearDate:t.toIndiaDigits(i),firstYear:t.studentFirstYear,firstAttempt:t.checkForSecondTerm(t.studentFirstYear).ar,firstSuccess:t.checkRule(t.studentFirstYear,t.studentAvailableInformation.sex),secondYearDate:t.toIndiaDigits(c),secondYear:t.studentSecondYear,secondAttempt:t.checkForSecondTerm(t.studentSecondYear).ar,secondSuccess:t.checkRule(t.studentSecondYear,t.studentAvailableInformation.sex),thirdYearDate:t.toIndiaDigits(l),thirdYear:t.studentThirdYear,thirdAttempt:t.checkForSecondTerm(t.studentThirdYear).ar,thirdSuccess:t.checkRule(t.studentThirdYear,t.studentAvailableInformation.sex),fourthYearDate:"٢٠١٩ - ٢٠٢٠",fourthYear:t.getLastYearLessonsMarks(t.studentSelected.collegeId,t.studentFourthYear),fourthAttempt:t.checkForSecondTermLastYear(t.studentFourthYear).ar,fourthSuccess:t.checkRule(t.studentFourthYear,t.studentAvailableInformation.sex)});try{o.render()}catch(r){function d(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}if(console.log(JSON.stringify({error:r},d)),r.properties&&r.properties.errors instanceof Array){var u=r.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",u)}throw r}var f=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(ft["saveAs"])(f,"".concat(t.studentAvailableInformation.name,".docx"))}))}},studentInformation:function(e){var t=this,n=this;if(n.exportLoading=!0,n.studentSelected=e,n.studentSectionId=e.sectionId,30==e.sectionId){var r="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=1&collageNumber=").concat(parseInt(e.collegeId)),a="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=2&collageNumber=").concat(parseInt(e.collegeId)),s="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=3&collageNumber=").concat(parseInt(e.collegeId)),o="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=4&collageNumber=").concat(parseInt(e.collegeId)),i="".concat(n.$store.state.oldUrl,"/studentAllMarks?sectionId=").concat(e.sectionId,"&level=5&collegeNumber=").concat(parseInt(e.collegeId)),c="".concat(n.$store.state.oldUrl,"/sectionLessonsForDocument?sectionId=").concat(e.sectionId,"&level=5"),l="".concat(n.$store.state.oldUrl,"/student/").concat(e.studentId),d="".concat(this.$store.state.oldUrl,"/sectionLevel?sectionId=").concat(this.$store.state.user.perv,"&level=4&year=2019-2020");function u(){return n.$http.get(r)}function f(){return n.$http.get(a)}function p(){return n.$http.get(s)}function v(){return n.$http.get(o)}function h(){return n.$http.get(c)}function g(){return n.$http.get(l)}function m(){return n.$http.get(d)}function S(){return n.$http.get(i)}Promise.allSettled([u(),f(),p(),v(),g(),h(),m(),S()]).then((function(e){var t=e[0],r=e[1],a=e[2],s=e[3],o=e[4],i=e[5],c=e[6],l=e[7];n.studentFirstYear="fulfilled"==t.status?t.value.data:[],n.studentSecondYear="fulfilled"==r.status?r.value.data:[],n.studentThirdYear="fulfilled"==a.status?a.value.data:[],n.studentFourthYear="fulfilled"==s.status?s.value.data:[],n.fifthLessons="fulfilled"==i.status?i.value.data:[],n.studentFifthYear="fulfilled"==l.status?l.value.data:[],n.studentAvailableInformation="fulfilled"==o.status?o.value.data:[],n.fourthType="fulfilled"==c.status?c.value.data:[],n.studentFirstYear=n.studentFirstYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,markAr:n.toIndiaDigits(e.mark),phaseCheck:2==e.phase,numberWritingEn:n.inWords(e.mark)}})),n.studentSecondYear=n.studentSecondYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,phaseCheck:2==e.phase,markAr:n.toIndiaDigits(e.mark),numberWritingEn:n.inWords(e.mark)}})),n.studentThirdYear=n.studentThirdYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,phaseCheck:2==e.phase,markAr:n.toIndiaDigits(e.mark),numberWritingEn:n.inWords(e.mark)}})),n.studentFourthYear=n.studentFourthYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,phaseCheck:2==e.phase,markAr:n.toIndiaDigits(e.mark),numberWritingEn:n.inWords(e.mark)}})),n.dialog3=!0,n.exportLoading=!1})).catch((function(e){console.log(e),n.message="حدث خطأ في جلب البيانات",n.snackbar=!0}))}else{var b="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=1&collageNumber=").concat(parseInt(e.collegeId)),y="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=2&collageNumber=").concat(parseInt(e.collegeId)),_="".concat(n.$store.state.apiUrl,"/studentLevelDegree?sectionId=").concat(e.sectionId,"&level=3&collageNumber=").concat(parseInt(e.collegeId)),k="".concat(n.$store.state.oldUrl,"/studentAllMarks?sectionId=").concat(e.sectionId,"&level=4&collegeNumber=").concat(parseInt(e.collegeId)),x="".concat(n.$store.state.oldUrl,"/sectionLessonsForDocument?sectionId=").concat(e.sectionId,"&level=4"),w="".concat(n.$store.state.oldUrl,"/student/").concat(e.studentId),T="".concat(this.$store.state.oldUrl,"/levels?sectionId=").concat(e.sectionId,"&level=").concat(30!=e.sectionId?4:5,'&year="2019-2020"'),I="".concat(this.$store.state.oldUrl,"/sectionLevel?sectionId=").concat(this.$store.state.user.perv,"&level=4&year=2019-2020");function u(){return n.$http.get(b)}function f(){return n.$http.get(y)}function p(){return n.$http.get(_)}function v(){return n.$http.get(k)}function D(){return n.$http.get(x)}function g(){return n.$http.get(w)}function N(){return n.$http.get(T)}function m(){return n.$http.get(I)}Promise.allSettled([u(),f(),p(),v(),g(),D(),N(),m()]).then((function(e){var r=e[0],a=e[1],s=e[2],o=e[3],i=e[4],c=e[5],l=e[6],d=e[7];n.studentFirstYear="fulfilled"==r.status?r.value.data:[],n.studentSecondYear="fulfilled"==a.status?a.value.data:[],n.studentThirdYear="fulfilled"==s.status?s.value.data:[],n.studentFourthYear="fulfilled"==o.status?o.value.data:[],n.fourthLessons="fulfilled"==c.status?c.value.data:[],n.studentAvailableInformation="fulfilled"==i.status?i.value.data:[],n.fourthType="fulfilled"==d.status?d.value.data:[],"fulfilled"==l.status?0==l.value.data.length?t.$store.state.levelType=1:t.$store.state.levelType=1*l.value.data[0].type:t.$store.state.levelType=1,n.studentFirstYear=n.studentFirstYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,markAr:n.toIndiaDigits(e.mark),phaseCheck:2==e.phase,numberWritingEn:n.inWords(e.mark)}})),n.studentSecondYear=n.studentSecondYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,phaseCheck:2==e.phase,markAr:n.toIndiaDigits(e.mark),numberWritingEn:n.inWords(e.mark)}})),n.studentThirdYear=n.studentThirdYear.map((function(e){return{collageNumber:e.collageNumber,course:e.course,enName:e.enName,idDegree:e.idDegree,idLesson:e.idLesson,idMaster:e.idMaster,lessonId:e.lessonId,lessonName:e.lessonName,level:e.level,mark:e.mark,masterId:e.masterId,masterTypeId:e.masterTypeId,numberWriting:e.numberWriting,phase:e.phase,rule:e.rule,sectionId:e.sectionId,studentName:e.studentName,studyType:e.studyType,units:e.units,unitsAr:n.toIndiaDigits(e.units),year:e.year,phaseCheck:2==e.phase,markAr:n.toIndiaDigits(e.mark),numberWritingEn:n.inWords(e.mark)}})),n.dialog3=!0,n.exportLoading=!1})).catch((function(e){console.log(e),n.message="حدث خطأ في جلب البيانات",n.snackbar=!0}))}},checkForSecondTerm:function(e){var t=e.find((function(e){return 2==e.phase}));return void 0!=t?{en:"Second Attempt",ar:"الدور الثاني"}:{en:"First Attempt",ar:"الدور الاول"}},checkForSecondTermLastYear:function(e){var t=e.find((function(e){return"custom2"==e.markType||"final2"==e.markType}));return void 0!=t?{en:"Second Attempt",ar:"الدور الثاني"}:{en:"First Attempt",ar:"الدور الاول"}},goToDocument:function(e){var t=this;t.studentSelected=e,console.log(e),t.studentInformation(e)},gradeWrite:function(e){return"مقبول"==e?"Pass":"متوسط"==e?"Fair":"جيد"==e?"Good":"جيد جدا"==e?"Very Good":"Excellent"},notHave:function(){this.message="الرجاء تزويد قسم تكنولوجيا المعلومات بالقالب ",this.snackbar=!0},getLastYearMarksTwo:function(e,t,n){var r=this;console.log(e);var a=e.find((function(e){return"custom"==e.markType})),s=e.find((function(e){return"custom2"==e.markType}));if(void 0!=a){var o=a.degree;return{mark:o,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(o),numberWritingEn:r.inWords(o),numberWritingAr:r.numberToWord(o),course:n.course}}if(void 0!=s){var i=s.degree;return{mark:i,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(i),numberWritingEn:r.inWords(i),numberWritingAr:r.numberToWord(i),course:n.course}}if(1==t){var c=e.find((function(e){return"final2"==e.markType}));if(void 0!=c){var l=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),d=l.reduce((function(e,t){return e+t.degree}),0);return{mark:d,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(d),numberWritingEn:r.inWords(d),numberWritingAr:r.numberToWord(d),course:n.course}}var u=e.reduce((function(e,t){return e+t.degree}),0);return{mark:u,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(u),numberWritingEn:r.inWords(u),numberWritingAr:r.numberToWord(u),course:n.course}}if(2==t){var f=e.find((function(e){return"final2"==e.markType}));if(void 0!=f){var p=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree}),0);return{mark:v,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(v),numberWritingEn:r.inWords(v),numberWritingAr:r.numberToWord(v),course:n.course}}var h=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),g=h.reduce((function(e,t){return e+t.degree}),0);return{mark:g,lessonName:n.name,enName:n.enName,units:n.credit,unitsAr:r.toIndiaDigits(n.credit),markAr:r.toIndiaDigits(g),numberWritingEn:r.inWords(g),numberWritingAr:r.numberToWord(g),course:n.course}}},getLastYearLessonsMarks:function(e,t){var n=this,r=t.filter((function(t){if(t.college_number==e||"0"+t.college_number==e)return t}));if(r.length>0){if(30==n.studentSectionId){var a=[];n.fifthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarksTwo(t,1,e);a.push(s)}}));return a}var s=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var a=n.getLastYearMarksTwo(t,n.$store.state.levelType,e);s.push(a)}}));return s}if(console.log(n.backupMarks),n.backupMarks.find((function(t){return t.collageNumber==e}))){var o=n.backupMarks.map((function(e){return{degree:e.mark,lessonName:e.lessonName,credit:e.units,markType:1==e.phase?"custom":"custom2"}}));return console.log(o),o}return[]}},filters:{studyType:function(e){return 2==e?"للدراستين الصباحية والمسائية":1==e?"حسب دراسة الطالب":void 0},phaseRole:function(e){return 1==e?"الدور الاول":2==e?"الدور الثاني":void 0},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString("ar-IQ")},convertDateEN:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")},genderCheck:function(e){return"ذكر"==e?"ناجح":"ناجحة"}}},zt=qt,Gt=(n("a989"),Object(f["a"])(zt,Ut,Wt,!1,null,"3ee6f332",null)),Ht=Gt.exports;v()(Gt,{VAutocomplete:L["a"],VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:Y["a"],VDialog:B["a"],VIcon:P["a"],VRow:A["a"],VSnackbar:z["a"],VSpacer:G["a"],VStepper:H["a"],VStepperContent:J["a"],VStepperHeader:Z["a"],VStepperItems:Z["b"],VStepperStep:Q["a"],VToolbar:mt["a"]});var Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showAll?n("div",{staticClass:"document-doc"},[n("v-row",{staticStyle:{"text-align":"center"}},[n("v-col",[n("h4",[e._v("الى /")]),n("h4",[e._v("م / وثيقة تخرج بالدرجات")])])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("h3",[e._v("الاسم الكامل : "+e._s(e.findStudent.studentName))]),n("h3",[e._v("محل وتاريخ الولادة : "+e._s(e.findStudent.dob))]),n("h3",[e._v("الشهادة : بكالوريوس")]),n("h3",[e._v("القسم : "+e._s(e.findStudent.sectionName))]),n("h3",[e._v("سنة القبول : "+e._s(e.findStudent.enterYear))]),n("h3",[e._v("تاريخ التخرج : 22/10/2020")]),n("h3",[e._v(" ادناه المواد الدراسية والدرجات التي حصل عليها خلال سنوات الدراسة . ")])]),n("v-col",{attrs:{cols:"6"}},[n("h3",[e._v(" المعدل : "+e._s(e.findStudent.average)+" % ")]),n("h3",[e._v(" التقدير : "+e._s(e.findStudent.averageWriting)+" ")]),n("h3",[e._v("الجنسية : عراقي")]),n("h3",[e._v("الدراسة : "+e._s(e.findStudent.type))]),n("h3",[e._v(" التسلسل : "+e._s(e.findStudent.sequence)+" من مجموع "+e._s(e.findStudent.totalStudents)+" خريجاً ")]),n("h3",[e._v(" علماً ان معدل الخريح الاول : "+e._s(e.findStudent.firstAverage)+" % ")])])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"95%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الاولى")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.studentLessonMarks(e.findStudent.collegeId,e.firstYearMarks,1,e.findStudent.type)[0].year)+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.studentLessonMarks(e.findStudent.collegeId,e.firstYearMarks,1,e.findStudent.type),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(t.mark)+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(t.units))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v("ناجح من")]),n("td",{attrs:{colspan:"2"}},[e._v("الدور الاول")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"95%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثانية")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.studentLessonMarks(e.findStudent.collegeId,e.secondYearMarks,2,e.findStudent.type)[0].year)+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.studentLessonMarks(e.findStudent.collegeId,e.secondYearMarks,2,e.findStudent.type),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(t.mark)+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(t.units))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v("ناجح من")]),n("td",{attrs:{colspan:"2"}},[e._v("الدور الاول")])])],2)])],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"95%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الثالثة")]),n("th",{attrs:{colspan:"3"}},[e._v(" "+e._s(e.studentLessonMarks(e.findStudent.collegeId,e.thirdYearMarks,3,e.findStudent.type)[0].year)+" ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.studentLessonMarks(e.findStudent.collegeId,e.thirdYearMarks,3,e.findStudent.type),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[2==t.phase?n("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(e._s(t.mark)+" ")]),n("td",[e._v(e._s(t.numberWriting))]),n("td",[e._v(e._s(t.units))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v("ناجح من")]),n("td",{attrs:{colspan:"2"}},[e._v("الدور الاول")])])],2)]),n("v-col",{attrs:{cols:"6"}},[n("table",{staticStyle:{width:"95%","border-spacing":"0px","text-align":"center",margin:"auto"},attrs:{border:"1"}},[n("tr",[n("th",[e._v("السنة الرابعة")]),n("th",{attrs:{colspan:"3"}},[e._v(" 2019 - 2020 ")])]),n("tr",[n("th",{staticStyle:{width:"40%"}},[e._v("الموضوع")]),n("th",{attrs:{colspan:"2"}},[n("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[n("tr",[n("td",{staticStyle:{"border-bottom":"2px solid"},attrs:{colspan:"2"}},[e._v(" الدرجة ")])]),n("tr",[n("td",{staticStyle:{width:"26%","border-left":"1px solid"}},[e._v(" رقما ")]),n("td",{staticStyle:{"border-right":"1px solid"}},[e._v("كتابة")])])])]),n("th",{staticStyle:{width:"15%"}},[e._v("الوحدات")])]),e._l(e.getLastYearLessonsMarks(e.findStudent.collegeId,e.fourthStudentsDegrees),(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.lessonName))]),n("td",{staticStyle:{width:"12%"}},[e._v(e._s(t.degree))]),n("td",[e._v(e._s(e.numberToWord(t.degree)))]),n("td",[e._v(e._s(t.credit))])])})),n("tfoot",[n("td",{attrs:{colspan:"2"}},[e._v("ناجح من")]),n("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e._f("phaseRole")(e.checkForSecondTerm(e.findStudent,e.fourthStudentsDegrees)))+" ")])])],2)])],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h5",[e._v(" التقديرات : مقبول ( ٥٠ - ٥٩ ) ، متوسط ( ٦٠ - ٦٩ ) ، جيد ( ٧٠ - ٧٩ ) ، جيد جداً ( ٨٠ - ٨٩ ) ، امتياز ( ٩٠ - ١٠٠ ) . ")]),n("h5",{staticStyle:{"text-decoration":"underline"}},[e._v("الملاحظات:")]),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ١- المدة الاصغرية المطلوبة لنيل شهادة البكالوريوس هي اربع سنوات . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٢- ترمز العلامة * لدرجة النجاح بالدور الثاني . ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٣- سنوات الرسوب : "+e._s(e.findStudent.failYears)+" ")]),n("pre",{staticStyle:{display:"inline-block"}},[e._v("    ")]),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" سنوات التأجيل : "+e._s(e.findStudent.postponementYear)+" ")]),n("br"),n("pre",{staticStyle:{display:"inline-block"}}),n("h5",{staticStyle:{display:"inline-block"}},[e._v(" ٤- اعتبار الطالب مستوف في التدريب الصيفي للمرحلة الثالثة . ")]),n("br")])],1),n("v-row",{staticClass:"not-printable"},[n("v-col",[n("v-btn",{attrs:{color:"info"},on:{click:e.print}},[e._v(" طباعة ")])],1)],1)],1):e._e()},Zt=[],Qt={data:function(){return{findStudent:this.$store.state.printStudentDoc,chosenStudent:"",show:!1,storeLoading:!1,chosenDocumentType:"",studyTypes:[{name:"الكل",value:0},{name:"حسب دراسة الطالب",value:1}],documentType:[{name:"تأييد تخرج",value:1},{name:"وثيقة تخرج",value:2}],snackbarSuccess:!1,snackbar:!1,showAll:!1,multiLine:!0,phase:1,showConfirm:!1,message:"",postponementYear:"",failYears:"",chosenStudyType:0,allStudents:[],studentLength:0,firstYearMarks:[],secondYearMarks:[],thirdYearMarks:[],firstClass:[],secondClass:[],thirdClass:[],backupMarks:[],sequenceType:0,summerTrainingStudents:[],fourthStudentsDegrees:[],fourthLessons:[],totalUnitsFourth:0,lessonTotal:0,e1:1}},created:function(){console.log(this.$store.state.printStudentDoc),this.searchForStudent()},methods:{searchForStudent:function(){var e=this,t=this;this.$http.get("".concat(this.$store.state.oldUrl,"/levels?sectionId=").concat(this.$store.state.user.perv,"&level=5&year=").concat(this.$store.state.user.currentYear)).then((function(t){0==t.data.length?e.$store.state.levelType=1:e.$store.state.levelType=1*t.data[0].type})).catch((function(e){console.log(e)}));var n=this.$store.state.apiUrl,r=this.$store.state.oldUrl,a="".concat(n,"/studentLevelDegree?sectionId=").concat(this.findStudent.sectionId,"&level=1&collageNumber=").concat(this.findStudent.collageNumber),s="".concat(n,"/studentLevelDegree?sectionId=").concat(this.findStudent.sectionId,"&level=2&collageNumber=").concat(this.findStudent.collageNumber),o="".concat(n,"/studentLevelDegree?sectionId=").concat(this.findStudent.sectionId,"&level=3&collageNumber=").concat(this.findStudent.collageNumber),i="".concat(r,"/averageMarks?sectionId=").concat(this.findStudent.sectionId,"&level=4"),c="".concat(r,"/findAverageLessons?sectionId=").concat(this.findStudent.sectionId,"&level=4"),l="".concat(r,"/sectionLessonsForDocument?sectionId=").concat(this.findStudent.sectionId,"&level=4"),d="".concat(r,"/findAverageLessons?sectionId=").concat(this.findStudent.sectionId,"&level=4"),u="".concat(n,"/sectionDegree?sectionId=").concat(this.findStudent.sectionId,"&level=1"),f="".concat(n,"/sectionDegree?sectionId=").concat(this.findStudent.sectionId,"&level=2"),p="".concat(n,"/sectionDegree?sectionId=").concat(this.findStudent.sectionId,"&level=3"),v="".concat(n,"/sectionDegree?sectionId=").concat(this.findStudent.sectionId,"&level=4"),h="".concat(n,"/summerTrainings/").concat(this.findStudent.sectionId);function g(){return t.$http.get(a)}function m(){return t.$http.get(s)}function S(){return t.$http.get(o)}function b(){return t.$http.get(i)}function y(){return t.$http.get(c)}function _(){return t.$http.get(l)}function k(){return t.$http.get(d)}function x(){return t.$http.get(u)}function w(){return t.$http.get(f)}function T(){return t.$http.get(p)}function I(){return t.$http.get(v)}function D(){return t.$http.get(h)}Promise.allSettled([g(),m(),S(),b(),y(),_(),k(),x(),w(),T(),I(),D()]).then((function(e){var n=e[0],r=e[1],a=e[2],s=e[3],o=e[4],i=e[5],c=e[6],l=e[7],d=e[8],u=e[9],f=e[10],p=e[11];t.firstClass="fulfilled"==n.status?n.value.data:[],t.secondClass="fulfilled"==r.status?r.value.data:[],t.thirdClass="fulfilled"==a.status?a.value.data:[],t.fourthStudentsDegrees="fulfilled"==s.status?s.value.data:[],t.lessonTotal="fulfilled"==o.status?o.value.data:[],t.fourthLessons="fulfilled"==i.status?i.value.data:[],t.totalUnitsFourth="fulfilled"==c.status?c.value.data[0].total:0,t.backupMarks="fulfilled"==f.status?f.value.data:[],t.firstYearMarks="fulfilled"==l.status?l.value.data:[],t.secondYearMarks="fulfilled"==d.status?d.value.data:[],t.thirdYearMarks="fulfilled"==u.status?u.value.data:[],t.summerTrainingStudents="fulfilled"==p.status?p.value.data:[],t.showAll=!0,2==t.chosenDocumentType?(t.showConfirm=!0,t.show=!1):(t.show=!0,t.showConfirm=!1)})).catch((function(e){console.log(e)}))},findAverageWriting:function(e){return e>=50&&e<=59.999?"مقبول":e>=60&&e<=69.999?"متوسط":e>=70&&e<=79.999?"جيد":e>=80&&e<=89.999?"جيد جدا":e>=90&&e<=100?"امتياز":"راسب"},print:function(){setTimeout((function(){window.print()}),100)},numberToWord:function(e){},findStudentLevel:function(e,t,n,r){var a=0,s=0;t.filter((function(e){a+=e.mark*e.units,s+=e.units}));return a>0?(100*a/100/s).toFixed(3):0},studentLessonMarks:function(e,t,n,r){var a=t.filter((function(t){if(t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));if(a.length>0)return a;if(0!=a.length)return[];var s=t.filter((function(t){if("0"+t.collageNumber==e&&t.level==n&&t.studyType==r)return t}));return s.length>0?s:void 0},findStudentLevelRegister:function(e,t,n,r){var a=0,s=0;return t.filter((function(t){t.collageNumber!=e&&"0"+t.collageNumber!=e||t.level!=n||t.studyType!=r||(a+=t.mark*t.units,s+=t.units)})),a>0?(100*a/100/s).toFixed(3):0},checkTraining:function(e,t){var n=this,r=n.summerTrainingStudents.filter((function(t){return t.collageNumber==e||t.collageNumber=="0".concat(e)}));if(r.length>0){if(0!=n.chosenStudyType){var a=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:a.length>0?a.length:0,summerStudent:"غير مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"غير مستوف"}}if(0!=n.chosenStudyType){var s=n.summerTrainingStudents.filter((function(e){return e.studyType==t}));return{total:s.length>0?s.length:0,summerStudent:"مستوف"}}return{total:n.summerTrainingStudents.length,summerStudent:"مستوف"}},checkForStudentCollageNumber:function(e,t){var n=t.find((function(t){return t.collageNumber==e}));return void 0!=n},getAllAverage:function(e,t,n){var r=this,a=[],s=e.filter((function(e){if(!r.checkForStudentCollageNumber(e.collegeId,r.summerTrainingStudents))return e}));s.map((function(e){return e.name}));if(0!=r.chosenStudyType?(r.sequenceType=1,a=s.filter((function(e){return e.type==n}))):(a=s,r.sequenceType=2),a.length>0){var o=a.map((function(e){return{collageNumber:e.collegeId,average:r.findTotalDegree(r.findStudentLevelRegister(e.collegeId,r.firstYearMarks,1,e.type),r.findStudentLevelRegister(e.collegeId,r.secondYearMarks,2,e.type),r.findStudentLevelRegister(e.collegeId,r.thirdYearMarks,3,e.type),r.findAverageForFourthLevel(e.collegeId,r.fourthStudentsDegrees))}})),i=o.filter((function(e){return e.average>=50})),c=i.sort((function(e,t){return t.average-e.average})),l=c.findIndex((function(e){return e.collageNumber==t||e.collageNumber=="0".concat(t)}));return r.studentLength=c.length,l||0}r.studentLength=sortedAverage.length},getFirstAverageStudent:function(e,t){var n=this,r=[],a=e.filter((function(e){if(!n.checkForStudentCollageNumber(e.collegeId,n.summerTrainingStudents))return e}));a.map((function(e){return e.name}));if(0!=n.chosenStudyType?(n.sequenceType=1,r=a.filter((function(e){return e.type==t}))):(r=a,n.sequenceType=2),r.length>0){var s=r.map((function(e){return{collageNumber:e.collegeId,average:n.findTotalDegree(n.findStudentLevelRegister(e.collegeId,n.firstYearMarks,1,e.type),n.findStudentLevelRegister(e.collegeId,n.secondYearMarks,2,e.type),n.findStudentLevelRegister(e.collegeId,n.thirdYearMarks,3,e.type),n.findAverageForFourthLevel(e.collegeId,n.fourthStudentsDegrees))}})),o=s.filter((function(e){return e.average>=50})),i=o.sort((function(e,t){return t.average-e.average}));return i?i[0]:0}return 0},getLastYearMarks:function(e,t){var n=e.find((function(e){return"custom"==e.markType})),r=e.find((function(e){return"custom2"==e.markType}));if(void 0!=n){var a=n.degree*n.credit;return a}if(void 0!=r){var s=r.degree*r.credit;return s}if(1==t){var o=e.find((function(e){return"final2"==e.markType}));if(void 0!=o){var i=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),c=i.reduce((function(e,t){return e+t.degree*t.credit}),0);return c}var l=e.reduce((function(e,t){return e+t.degree*t.credit}),0);return l}if(2==t){var d=e.find((function(e){return"final2"==e.markType}));if(void 0!=d){var u=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),f=u.reduce((function(e,t){return e+t.degree*t.credit}),0);return f}var p=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),v=p.reduce((function(e,t){return e+t.degree*t.credit}),0);return v}},getLastYearMarksTwo:function(e,t,n){var r=e.find((function(e){return"custom"==e.markType})),a=e.find((function(e){return"custom2"==e.markType}));if(void 0!=r){var s=r.degree;return{degree:s,lessonName:n.name,credit:n.credit}}if(void 0!=a){var o=a.degree;return{degree:o,lessonName:n.name,credit:n.credit}}if(1==t){var i=e.find((function(e){return"final2"==e.markType}));if(void 0!=i){var c=e.filter((function(e){return"final1"!=e.markType&&"practicalFinal"!=e.markType})),l=c.reduce((function(e,t){return e+t.degree}),0);return{degree:l,lessonName:n.name,credit:n.credit}}var d=e.reduce((function(e,t){return e+t.degree}),0);return{degree:d,lessonName:n.name,credit:n.credit}}if(2==t){var u=e.find((function(e){return"final2"==e.markType}));if(void 0!=u){var f=e.filter((function(e){return"final1"!=e.markType&&"th2"!=e.markType&&"pr2"!=e.markType&&"practicalFinal"!=e.markType})),p=f.reduce((function(e,t){return e+t.degree}),0);return{degree:p,lessonName:n.name,credit:n.credit}}var v=e.filter((function(e){return"th2"!=e.markType&&"pr2"!=e.markType})),h=v.reduce((function(e,t){return e+t.degree}),0);return{degree:h,lessonName:n.name,credit:n.credit}}},checkForSecondTerm:function(e,t){var n=t.filter((function(t){return t.college_number==e.collegeId||t.college_number=="0"+e.collegeId}));if(n.length>0){var r=n.find((function(e){return"custom2"==e.markType||"final2"==e.markType}));return void 0!=r?2:1}},getLastYearLessonsMarks:function(e,t){var n=this,r=t.filter((function(t){if(t.college_number==e||"0"+t.college_number==e)return t}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarksTwo(t,n.$store.state.levelType,e);a.push(s)}}));return a}return[]},findAverageForFourthLevel:function(e,t){var n=this,r=t.filter((function(t){return t.college_number==e||"0"+t.college_number==e}));if(r.length>0){var a=[];n.fourthLessons.map((function(e){var t=r.filter((function(t){return t.lessonId==e.id}));if(t.length>0){var s=n.getLastYearMarks(t,n.$store.state.levelType);a.push(s)}}));if(a.length>0){var s=a.reduce((function(e,t){return e+t}),0);return(100*s/100/n.totalUnitsFourth).toFixed(3)}return n.findStudentLevel(e,n.backupMarks,4,"صباحي")}return 0},findTotalDegree:function(e,t,n,r){return(.1*e+.2*t+.3*n+.4*r).toFixed(3)}},filters:{phaseRole:function(e){return 1==e?"الدور الاول":2==e?"الدور الثاني":void 0},convertDate:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")}}},Kt=Qt,Xt=(n("200f"),Object(f["a"])(Kt,Jt,Zt,!1,null,"57f9c426",null)),en=Xt.exports;v()(Xt,{VBtn:V["a"],VCol:Y["a"],VRow:A["a"]});var tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._l(e.studentGraduations,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"masters-section"},[n("div",{staticClass:"master-card"},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"1"}},[e._v(e._s(r+1))]),n("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.studentName))]),n("v-col",{attrs:{cols:"3"}},[e._v(" محل وتاريخ الولادة: "+e._s(t.dob))]),n("v-col",{attrs:{cols:"2"}},[e._v(" المعدل : "+e._s(t.average))]),n("v-col",{attrs:{cols:"1"}},[e._v("التقدير : "+e._s(t.averageWriting))]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"2"}},[e._v(" سنة القبول : "+e._s(t.enterYear)+" ")]),n("v-col",{staticStyle:{"text-align":"center"},attrs:{cols:"1"}},[e._v(" التسلسل : "+e._s(t.sequence)+" ")])],1)],1)])])})),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:"error"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],2)},nn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("الوثائق المرسلة")])])}],rn={data:function(){return{studentGraduations:[],message:"",snackbar:!1,multiLine:!0}},created:function(){this.searchForStudent()},methods:{searchForStudent:function(){var e=this,t=JSON.parse(localStorage.getItem("user")).perv;console.log(t),this.$http.get("".concat(this.$store.state.apiUrl,"/graduationSection/").concat(t)).then((function(t){e.studentGraduations=t.data,e.storeLoading=!1})).catch((function(t){404==t.response.status&&(e.message="لا يوجد طلبة في هذا القسم",e.snackbar=!0,e.storeLoading=!1)}))}}},an=rn,sn=(n("4cb1"),Object(f["a"])(an,tn,nn,!1,null,"65f5a5a4",null)),on=sn.exports;v()(sn,{VBtn:V["a"],VCol:Y["a"],VRow:A["a"],VSnackbar:z["a"]});var cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[n("v-select",{attrs:{items:e.allMasters,"item-text":"masterDetails","item-value":"masterId",label:"الشيتات",dense:"",clearable:"",outlined:""},on:{change:e.selectMaster},model:{value:e.masterSelected,callback:function(t){e.masterSelected=t},expression:"masterSelected"}})],1)],1),e._l(e.masterLessons,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"masters-section"},[n("div",{staticClass:"master-card"},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"3"}},[e._v(e._s(r+1))]),n("v-col",{attrs:{cols:"3"}},[e._v(e._s(t.lessonName))]),n("v-col",{attrs:{cols:"3"}},[e._v(e._s(t.enName))]),n("v-col",{staticStyle:{"text-align":"left"},attrs:{cols:"2"}},[n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",depressed:"",color:"primary"},on:{click:function(n){return e.editLesson(t)}}},[n("v-icon",{attrs:{dark:"",size:"20"}},[e._v(" fa-edit ")])],1)],1)],1)],1)])])})),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[n("v-card",[n("v-card-title",{staticClass:"headline",staticStyle:{"text-align":"center",padding:"0","margin-bottom":"10px",background:"#145374"}},[n("p",{staticStyle:{"text-align":"center",margin:"10px auto",color:"#fff"}},[e._v(" تعديل المادة ")])]),n("v-card-text",[n("div",{staticStyle:{height:"10px"}}),n("v-text-field",{attrs:{label:"اسم المادة بالعربي",outlined:"",dense:""},model:{value:e.lesson.lessonName,callback:function(t){e.$set(e.lesson,"lessonName",t)},expression:"lesson.lessonName"}}),n("v-text-field",{attrs:{label:"اسم المادة بالانكليزي",outlined:"",dense:""},model:{value:e.lesson.enName,callback:function(t){e.$set(e.lesson,"enName",t)},expression:"lesson.enName"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.updateLesson}},[e._v(" موافق ")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog2=!1}}},[e._v(" الغاء ")])],1)],1)],1),n("v-snackbar",{attrs:{"multi-line":e.multiLine,shaped:"",color:e.snakeColor},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"background",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[e._v(" اغلاق ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],2)},ln=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-section"},[n("h2",[e._v("المواد الدراسية")])])}],dn={data:function(){return{allMasters:[],masterSelected:"",lesson:"",snackbar:!1,multiLine:!0,message:"",snakeColor:"",masterLessons:[],dialog2:!1,showLessons:!1}},created:function(){var e=this;e.$http.get("".concat(e.$store.state.apiUrl,"/masters/").concat(e.$store.state.user.perv)).then((function(t){var n=t.data.map((function(t){return{masterId:t.idMaster,masterDetails:"".concat(e.getLevel(t.level)," - ").concat(t.year," - ").concat(t.typeName," - ").concat(t.studyType)}}));console.log(n),e.allMasters=n})).catch((function(e){console.log(e)}))},methods:{selectMaster:function(){var e=this,t=this;t.$http.get("".concat(t.$store.state.apiUrl,"/lessons/").concat(this.masterSelected)).then((function(t){e.masterLessons=t.data})).catch((function(e){console.log(e)}))},editLesson:function(e){this.lesson=e,this.dialog2=!0},updateLesson:function(){var e=this;e.$http.put("".concat(e.$store.state.apiUrl,"/lesson/").concat(e.lesson.idLesson),e.lesson).then((function(t){console.log(t),e.message="تم تعديل البيانات",e.snackbar=!0,e.snakeColor="success",e.selectMaster(),e.dialog2=!1})).catch((function(t){console.log(t),e.message="حدث خطأ في تعديل البيانات",e.snackbar=!0,e.snakeColor="error",e.dialog2=!1}))},getLevel:function(e){switch(e){case 1:return"المرحلة الاولى";case 2:return"المرحلة الثانية";case 3:return"المرحلة الثالثة";case 4:return"المرحلة الرابعة";case 5:return"المرحلة الخامسة"}}}},un=dn,fn=(n("8bd6"),Object(f["a"])(un,cn,ln,!1,null,"15d4e0ce",null)),pn=fn.exports;v()(fn,{VBtn:V["a"],VCard:U["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:Y["a"],VDialog:B["a"],VIcon:P["a"],VRow:A["a"],VSelect:q["a"],VSnackbar:z["a"],VSpacer:G["a"],VTextField:K["a"]}),r["a"].use(x["a"]);var vn=[{path:"/",name:"Home",component:$},{path:"/add-master",name:"AddMaster",component:ee},{path:"/student-document",name:"StudentDocument",component:Oe},{path:"/graduation",name:"GraduationDocument",component:Ht},{path:"/lessons",name:"Lessons",component:pn},{path:"/summer",name:"Summer",component:Vt},{path:"/grad",name:"GradInfo",component:en},{path:"/register-document",name:"RegisterDocument",component:bt},{path:"/document-info",name:"DocumentInfo",component:$t},{path:"/compare-dental",name:"CompareDental",component:xe},{path:"/student-dent",name:"StudentDocumentDent",component:Tt},{path:"/uploaded",name:"uploadedDocuments",component:on},{path:"/average-dental",name:"AverageDental",component:Ze},{path:"/edit-collage",name:"EditCollageId",component:ce},{path:"/compare",name:"ComparePage",component:ge},{path:"/master-info",name:"MasterInfo",component:st},{path:"/average",name:"Average",component:Be},{path:"/login",name:"LoginPage",component:Le},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],hn=new x["a"]({mode:Object({NODE_ENV:"production",BASE_URL:"/"}).IS_ELECTRON?"hash":"history",base:"/",routes:vn}),gn=hn,mn=n("bc3a"),Sn=n.n(mn);r["a"].use(ae["a"]);var bn=new ae["a"].Store({state:{apiUrl:null,oldUrl:null,fromHome:!0,searchTerm:"status=1",studentsMaster:[],printStudent:null,printStudentDoc:null,levelType:0,masterDetails:null,user:null},mutations:{SET_STUDENTS:function(e,t){e.studentsMaster=t},SET_SEARCH_TERM:function(e,t){e.searchTerm=t},SET_USER_DATA:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},SET_FROM_HOME:function(e,t){e.apiUrl=t.apiUrl,e.oldUrl=t.oldUrl},MASTER_DETAILS:function(e,t){e.masterDetails=t},GET_USER_DATA:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},STUDENT_FOR_PRINT:function(e,t){e.printStudent=t},STUDENT_FOR_PRINT_DOC:function(e,t){e.printStudentDoc=t},CLEAR_DATA:function(e){localStorage.removeItem("user"),location.reload()}},actions:{loadStudentMaster:function(e,t){var n=e.commit;Sn.a.get("".concat(this.state.apiUrl,"/studentMaster/").concat(t)).then((function(e){console.log(e.data),n("SET_STUDENTS",e.data)}))},fromHomeUpdate:function(e,t){var n=e.commit;if(console.log(t),t){var r={apiUrl:"http://10.0.0.254:5555/api",oldUrl:"http://10.0.0.254:8000/api"};n("SET_FROM_HOME",r)}else{var a={apiUrl:"http://10.0.0.254:5555/api",oldUrl:"http://10.0.0.254:8000/api"};n("SET_FROM_HOME",a)}},setStudentForPrint:function(e,t){var n=e.commit;n("STUDENT_FOR_PRINT",t)},setSearchTermData:function(e,t){var n=e.commit;n("SET_SEARCH_TERM",t)},setStudentForPrintDoc:function(e,t){var n=e.commit;n("STUDENT_FOR_PRINT_DOC",t)},login:function(e,t){var n=e.commit;return Sn.a.post("".concat(this.state.oldUrl,"/login"),t).then((function(e){console.log(e.data),n("SET_USER_DATA",Object(re["a"])({password:t.password},e.data))}))},getUserDate:function(e){var t=e.commit,n=localStorage.getItem("user");if(n){var r=JSON.parse(n);return Sn.a.post("".concat(this.state.oldUrl,"/login"),{name:r.name,password:r.password}).then((function(e){console.log(e.data),t("GET_USER_DATA",Object(re["a"])({password:r.password},e.data))}))}},getMasterDetailsById:function(e,t){var n=e.commit;return Sn.a.get("".concat(this.state.apiUrl,"/masterInformation/").concat(t.idMaster)).then((function(e){console.log(e.data),n("MASTER_DETAILS",Object(re["a"])(Object(re["a"])({},e.data),t))}))},logout:function(e){var t=e.commit;t("CLEAR_DATA")}},modules:{},getters:{studentsMaster:function(e){return e.studentsMaster}}}),yn=n("f309"),_n=n("395a"),kn=n.n(_n);r["a"].use(yn["a"]);var xn=new yn["a"]({theme:{dark:!1,options:{customProperties:!0},themes:{light:{primary:"#145374",secondary:"#d6e0f0",background:"#fff",accent:"#006a71",error:"#ff6b6b",info:"#2196F3",stepper:"#ebffeb",success:"#1b998b",warning:"#ffe66d"},dark:{primary:"#246a73",secondary:"#368f8b",accent:"#f3dfc1",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"fa"},lang:{locales:{ar:kn.a},current:"ar"},rtl:!0});n("d5e8"),n("15f5");r["a"].config.productionTip=!1,r["a"].http=r["a"].prototype.$http=Sn.a,new r["a"]({router:gn,store:bn,vuetify:xn,render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"6b34":function(e,t,n){},"6d8e":function(e,t,n){},"6f81":function(e,t,n){},7189:function(e,t,n){"use strict";n("4bf1")},"72aa":function(e,t,n){"use strict";n("e1e4")},7563:function(e,t,n){"use strict";n("6b34")},"762a":function(e,t,n){},"7a40":function(e,t,n){"use strict";n("6d8e")},"82b8":function(e,t,n){},"86e6":function(e,t,n){e.exports=n.p+"img/home.e23fbc49.svg"},"8a9f":function(e,t,n){},"8bd6":function(e,t,n){"use strict";n("efc0")},"8d8d":function(e,t,n){e.exports=n.p+"img/meeting.0930fd7a.svg"},9254:function(e,t,n){e.exports=n.p+"img/certificate.48d4f057.svg"},"9bd7":function(e,t,n){"use strict";n("564d")},"9c0c":function(e,t,n){},a20e:function(e,t,n){},a6f6:function(e,t,n){"use strict";n("a20e")},a989:function(e,t,n){"use strict";n("e6b5")},aaee:function(e,t,n){"use strict";n("2786")},bae8:function(e,t,n){e.exports=n.p+"img/browser-2.b7d223cc.svg"},c6b69:function(e,t,n){"use strict";n("ffd5")},cab1:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.69b722b6.png"},d333:function(e,t,n){"use strict";n("6f81")},d7d7:function(e,t,n){e.exports=n.p+"img/documentsIcon.4e859ea2.svg"},dd12:function(e,t,n){"use strict";n("cab1")},e1e4:function(e,t,n){},e6b5:function(e,t,n){},efc0:function(e,t,n){},ff1e:function(e,t,n){},ffd5:function(e,t,n){}});
//# sourceMappingURL=app.8e029cd8.js.map